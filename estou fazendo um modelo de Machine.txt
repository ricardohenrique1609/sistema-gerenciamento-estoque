estou fazendo um modelo de Machine Learning para prever a ocupaÃ§Ã£o dos andares dos prÃ©dios do itau, pense como um cientista de dados para resolver esses problemas atuais que vou te passar:

meu cÃ³digo atual de data_processor_floor faz o processamento dos dados e entrega uma base para o outro arquivo train_model treinar
<data_processor>"""
========================================
DATA PROCESSOR FLOOR - v1.0
========================================
âœ… Processa dados por ANDAR (nÃ£o por prÃ©dio)
âœ… Parser robusto para nomes de andar
âœ… MÃ­nimo 200 dias por andar
âœ… Remove Faria Lima 3400
âœ… Clima real via Open-Meteo
========================================
"""

import pandas as pd
import numpy as np
from datetime import datetime, timedelta
import warnings
import openmeteo_requests
import requests_cache
from retry_requests import retry
import re
warnings.filterwarnings('ignore')

class FloorOccupationProcessor:
Â  Â  
Â  Â  def __init__(self):
Â  Â  Â  Â  self.df_processed = None
Â  Â  Â  Â  self.filepath = None
Â  Â  Â  Â  
Â  Â  Â  Â  # Mapeamento de filial para prÃ©dio base
Â  Â  Â  Â  self.filial_mapping = {
Â  Â  Â  Â  Â  Â 'AC - IBBA FL3500 (SP)': 'ibba_fl3500',
Â  Â  Â  Â  Â  Â 'AC - Centro Empresarial (SP)': 'centro_empresarial',
Â  Â  Â  Â  Â  Â 'AC - CEA (SP)': 'cea',
Â  Â  Â  Â  Â  Â 'AC - CTSP (SP)': 'ctsp'
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  # Capacidades por andar (fornecidas pelo usuÃ¡rio)
Â  Â  Â  Â  self.floor_capacities = {
Â  Â  Â  Â  Â  Â  # Torre ConceiÃ§Ã£o
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_01': 208,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_02': 180,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_03': 184,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_04': 194,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_05': 162,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_06': 162,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_07': 162,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_08': 162,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_09': 162,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_10': 190,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_11': 192,
Â  Â  Â  Â  Â  Â  'centro_empresarial_conceicao_12': 188,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Torre Jabaquara
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_02': 108,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_03': 152,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_04': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_05': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_06': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_07': 220,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_08': 214,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_09': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_10': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_11': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_jabaquara_12': 200,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Torre Walther (WMS)
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_01': 204,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_02': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_03': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_04': 160,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_05': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_06': 198,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_07': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_08': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_09': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_10': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_11': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_wms_12': 200,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Torre Olavo SetÃºbal
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_00': 63,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_01': 134,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_02': 164,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_03': 168,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_04': 164,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_05': 196,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_06': 108,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_07': 80,
Â  Â  Â  Â  Â  Â  'centro_empresarial_olavo_setubal_09': 0,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Torre Eudoro Villela
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_01': 114,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_03': 141,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_04': 153,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_05': 174,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_06': 150,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_07': 171,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_08': 165,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_09': 177,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_10': 210,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_11': 162,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_12': 186,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_13': 186,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_14': 162,
Â  Â  Â  Â  Â  Â  'centro_empresarial_eudoro_villela_15': 186,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Torre Alfredo Egydio
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_01': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_02': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_03': 185,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_04': 198,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_05': 174,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_06': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_07': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_08': 204,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_09': 200,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_10': 214,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_11': 206,
Â  Â  Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_12': 134,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Centro TecnolÃ³gico
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_01': 602,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_02': 726,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_03': 703,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_04': 708,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_05': 645,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_07': 162,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_08': 704,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_09': 736,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_10': 741,
Â  Â  Â  Â  Â  Â  'ctsp_centro_tecnologico_mez': 310,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Faria Lima 3500
Â  Â  Â  Â  Â  Â  'ibba_fl3500 2 andar': 573,
Â  Â  Â  Â  Â  Â  'ibba_fl3500_fl3500_03': 612,
Â  Â  Â  Â  Â  Â  'ibba_fl3500_fl3500_04': 527,
Â  Â  Â  Â  Â  Â  'ibba_fl3500_fl3500_05': 284,
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Centro Empresarial AÃ§o
Â  Â  Â  Â  Â  Â  'cea_cea_01': 450,
Â  Â  Â  Â  Â  Â  'cea_cea_n1': 274, Â # -1 andar
Â  Â  Â  Â  Â  Â  'cea_cea_03': 461,
Â  Â  Â  Â  Â  Â  'cea_cea_04': 294,
Â  Â  Â  Â  Â  Â  'cea_cea_07': 592,
Â  Â  Â  Â  Â  Â  'cea_cea_09': 165,
Â  Â  Â  Â  }
Â  Â  
Â  Â  def parse_floor_name(self, filial, floor_str):
Â  Â  Â  Â  """
Â  Â  Â  Â  Parser robusto para extrair torre e andar
Â  Â  Â  Â  Retorna: (building_key, floor_key, tower_name, floor_number)
Â  Â  Â  Â  """
Â  Â  Â  Â  if pd.isna(floor_str) or not isinstance(floor_str, str):
Â  Â  Â  Â  Â  Â  return None, None, None, None
Â  Â  Â  Â  
Â  Â  Â  Â  floor_str = floor_str.strip().upper()
Â  Â  Â  Â  
Â  Â  Â  Â  # Mapear filial para building
Â  Â  Â  Â  building = self.filial_mapping.get(filial)
Â  Â  Â  Â  if not building:
Â  Â  Â  Â  Â  Â  return None, None, None, None
Â  Â  Â  Â  
Â  Â  Â  Â  # --- CENTRO EMPRESARIAL ---
Â  Â  Â  Â  if building == 'centro_empresarial':
Â  Â  Â  Â  Â  Â  # PadrÃµes: "CONCEICAO / 01 AND", "WMS / 02 AND", etc
Â  Â  Â  Â  Â  Â  patterns = [
Â  Â  Â  Â  Â  Â  Â  Â  (r'CONCEICAO\s*/\s*(\d+)\s*AND', 'conceicao'),
Â  Â  Â  Â  Â  Â  Â  Â  (r'JABAQUARA\s*/\s*(\d+)\s*AND', 'jabaquara'),
Â  Â  Â  Â  Â  Â  Â  Â  (r'WMS\s*/\s*(\d+)\s*AND', 'wms'),
Â  Â  Â  Â  Â  Â  Â  Â  (r'OLAVO\s*SETUBAL\s*/\s*(\d+)\s*AND', 'olavo_setubal'),
Â  Â  Â  Â  Â  Â  Â  Â  (r'EUDORO\s*VILLELA\s*/\s*(\d+)\s*AND', 'eudoro_villela'),
Â  Â  Â  Â  Â  Â  Â  Â  (r'ALFREDO\s*EGYDIO\s*/\s*(\d+)\s*AND', 'alfredo_egydio'),
Â  Â  Â  Â  Â  Â  Â  Â  # TÃ©rreo/Mezanino/etc
Â  Â  Â  Â  Â  Â  Â  Â  (r'CONCEICAO\s*/\s*MEZ', 'conceicao', 'mez'),
Â  Â  Â  Â  Â  Â  Â  Â  (r'CONCEICAO\s*/\s*PM', 'conceicao', 'pm'),
Â  Â  Â  Â  Â  Â  Â  Â  (r'OLAVO\s*SETUBAL\s*/\s*TERREO', 'olavo_setubal', 'terreo'),
Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  for pattern in patterns:
Â  Â  Â  Â  Â  Â  Â  Â  if len(pattern) == 2:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  regex, tower = pattern
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  match = re.search(regex, floor_str)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if match:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  floor_num = match.group(1).zfill(2)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  floor_key = f"{building}_{tower}_{floor_num}"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, tower, floor_num
Â  Â  Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  regex, tower, special = pattern
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if re.search(regex, floor_str):
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  floor_key = f"{building}_{tower}_{special}"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, tower, special
Â  Â  Â  Â  
Â  Â  Â  Â  # --- CENTRO TECNOLÃ“GICO ---
Â  Â  Â  Â  elif building == 'ctsp':
Â  Â  Â  Â  Â  Â  match = re.search(r'CENTRO\s*TECNOLOGICO\s*/\s*(\d+)\s*AND', floor_str)
Â  Â  Â  Â  Â  Â  if match:
Â  Â  Â  Â  Â  Â  Â  Â  floor_num = match.group(1).zfill(2)
Â  Â  Â  Â  Â  Â  Â  Â  floor_key = f"ctsp_centro_tecnologico_{floor_num}"
Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, 'centro_tecnologico', floor_num
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if 'MEZ INTER' in floor_str or 'MEZANINO' in floor_str:
Â  Â  Â  Â  Â  Â  Â  Â  floor_key = 'ctsp_centro_tecnologico_mez'
Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, 'centro_tecnologico', 'mez'
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if 'TERREO' in floor_str:
Â  Â  Â  Â  Â  Â  Â  Â  floor_key = 'ctsp_centro_tecnologico_terreo'
Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, 'centro_tecnologico', 'terreo'
Â  Â  Â  Â  
Â  Â  Â  Â  # --- FARIA LIMA 3500 ---
Â  Â  Â  Â  elif building == 'ibba_fl3500':
Â  Â  Â  Â  Â  Â  match = re.search(r'FL3500\s*/\s*(\d+)\s*ANDAR', floor_str)
Â  Â  Â  Â  Â  Â  if match:
Â  Â  Â  Â  Â  Â  Â  Â  floor_num = match.group(1).zfill(2)
Â  Â  Â  Â  Â  Â  Â  Â  floor_key = f"ibba_fl3500_fl3500_{floor_num}"
Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, 'fl3500', floor_num
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if 'TERREO' in floor_str:
Â  Â  Â  Â  Â  Â  Â  Â  floor_key = 'ibba_fl3500_fl3500_terreo'
Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, 'fl3500', 'terreo'
Â  Â  Â  Â  
Â  Â  Â  Â  # --- CENTRO EMPRESARIAL AÃ‡O ---
Â  Â  Â  Â  elif building == 'cea':
Â  Â  Â  Â  Â  Â  match = re.search(r'CEA\s*(\d+)\s*ANDAR', floor_str)
Â  Â  Â  Â  Â  Â  if match:
Â  Â  Â  Â  Â  Â  Â  Â  floor_num = match.group(1).zfill(2)
Â  Â  Â  Â  Â  Â  Â  Â  floor_key = f"cea_cea_{floor_num}"
Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, 'cea', floor_num
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # -1 andar
Â  Â  Â  Â  Â  Â  if 'CEA 1 ANDAR TORRE' in floor_str or 'CEA -1' in floor_str:
Â  Â  Â  Â  Â  Â  Â  Â  floor_key = 'cea_cea_n1'
Â  Â  Â  Â  Â  Â  Â  Â  return building, floor_key, 'cea', '-1'
Â  Â  Â  Â  
Â  Â  Â  Â  return None, None, None, None
Â  Â  
Â  Â  def set_filepath(self, filepath):
Â  Â  Â  Â  self.filepath = filepath
Â  Â  Â  Â  print(f"ğŸ“‚ Arquivo de dados definido: {filepath}")

Â  Â  def clean_and_aggregate_chunks(self, chunksize=2000000):
Â  Â  Â  Â  print(f"\nğŸ“Š Processando dados POR ANDAR (chunks de {chunksize:,})...")
Â  Â  Â  Â  
Â  Â  Â  Â  cols_to_use = ['data_marcacao', 'tipo_acesso', 'filial_tratado', 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 'cod_funcionario', 'right_descricao_local_departamento']
Â  Â  Â  Â  results = []
Â  Â  Â  Â  chunk_num = 1
Â  Â  Â  Â  total_registros_originais = 0
Â  Â  Â  Â  total_registros_apos_dedup = 0
Â  Â  Â  Â  
Â  Â  Â  Â  try:
Â  Â  Â  Â  Â  Â  try:
Â  Â  Â  Â  Â  Â  Â  Â  reader = pd.read_csv(self.filepath, usecols=cols_to_use, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  chunksize=chunksize, low_memory=False, encoding='utf-8')
Â  Â  Â  Â  Â  Â  except UnicodeDecodeError:
Â  Â  Â  Â  Â  Â  Â  Â  reader = pd.read_csv(self.filepath, usecols=cols_to_use, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  chunksize=chunksize, low_memory=False, encoding='latin-1')
Â  Â  Â  Â  except FileNotFoundError:
Â  Â  Â  Â  Â  Â  print(f"âŒ ERRO: Arquivo '{self.filepath}' nÃ£o encontrado!")
Â  Â  Â  Â  Â  Â  return None
Â  Â  Â  Â  
Â  Â  Â  Â  for chunk in reader:
Â  Â  Â  Â  Â  Â  print(f" Â  ğŸŒ€ Processando Lote {chunk_num}...")
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  chunk.columns = chunk.columns.str.strip()
Â  Â  Â  Â  Â  Â  registros_antes = len(chunk)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Converter data
Â  Â  Â  Â  Â  Â  chunk['data'] = pd.to_datetime(chunk['data_marcacao'], format='%Y%m%d', errors='coerce')
Â  Â  Â  Â  Â  Â  chunk = chunk.dropna(subset=['data'])
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Filtrar entradas
Â  Â  Â  Â  Â  Â  chunk['tipo_acesso'] = chunk['tipo_acesso'].str.strip().str.lower().replace({'saÃ­da': 'saida'})
Â  Â  Â  Â  Â  Â  chunk = chunk[chunk['tipo_acesso'] == 'entrada']
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Parse de andar
Â  Â  Â  Â  Â  Â  chunk['building'], chunk['floor_key'], chunk['tower'], chunk['floor_num'] = zip(
Â  Â  Â  Â  Â  Â  Â  Â  *chunk.apply(lambda row: self.parse_floor_name(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row['filial_tratado'], 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row['right_descricao_local_departamento']
Â  Â  Â  Â  Â  Â  Â  Â  ), axis=1)
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  chunk = chunk.dropna(subset=['floor_key'])
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Remove duplicatas
Â  Â  Â  Â  Â  Â  chunk_antes_dedup = len(chunk)
Â  Â  Â  Â  Â  Â  chunk = chunk.drop_duplicates(subset=['data', 'floor_key', 'cod_funcionario'], keep='first')
Â  Â  Â  Â  Â  Â  registros_depois = len(chunk)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  duplicatas = chunk_antes_dedup - registros_depois
Â  Â  Â  Â  Â  Â  if duplicatas > 0:
Â  Â  Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â ğŸ“‰ Duplicatas removidas: {duplicatas:,}")
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  total_registros_originais += registros_antes
Â  Â  Â  Â  Â  Â  total_registros_apos_dedup += registros_depois
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Contar por andar
Â  Â  Â  Â  Â  Â  chunk_agg = chunk.groupby(['data', 'floor_key', 'building'])['cod_funcionario'].nunique().reset_index()
Â  Â  Â  Â  Â  Â  chunk_agg.columns = ['data', 'floor_key', 'building', 'ocupacao_media_dia']
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  results.append(chunk_agg)
Â  Â  Â  Â  Â  Â  chunk_num += 1
Â  Â  Â  Â  
Â  Â  Â  Â  if not results:
Â  Â  Â  Â  Â  Â  print("âŒ Nenhum dado vÃ¡lido encontrado.")
Â  Â  Â  Â  Â  Â  return None
Â  Â  Â  Â  
Â  Â  Â  Â  print(f"\n Â  âœ… {chunk_num-1} lotes processados")
Â  Â  Â  Â  print(f" Â  ğŸ“Š Registros originais: {total_registros_originais:,}")
Â  Â  Â  Â  print(f" Â  ğŸ“Š Duplicatas removidas: {total_registros_originais - total_registros_apos_dedup:,}")
Â  Â  Â  Â  
Â  Â  Â  Â  df_agg = pd.concat(results, ignore_index=True)
Â  Â  Â  Â  df_final = df_agg.groupby(['data', 'floor_key', 'building'])['ocupacao_media_dia'].sum().reset_index()
Â  Â  Â  Â  
Â  Â  Â  Â  # Filtrar andares com mÃ­nimo 200 dias
Â  Â  Â  Â  print(f"\n Â  ğŸ” Filtrando andares com mÃ­nimo 200 dias...")
Â  Â  Â  Â  floor_counts = df_final.groupby('floor_key').size()
Â  Â  Â  Â  valid_floors = floor_counts[floor_counts >= 200].index
Â  Â  Â  Â  
Â  Â  Â  Â  print(f" Â  Â  Â â€¢ Total de andares Ãºnicos: {len(floor_counts)}")
Â  Â  Â  Â  print(f" Â  Â  Â â€¢ Andares com â‰¥200 dias: {len(valid_floors)}")
Â  Â  Â  Â  print(f" Â  Â  Â â€¢ Andares removidos: {len(floor_counts) - len(valid_floors)}")
Â  Â  Â  Â  
Â  Â  Â  Â  df_final = df_final[df_final['floor_key'].isin(valid_floors)]
Â  Â  Â  Â  
Â  Â  Â  Â  # Adicionar info temporal
Â  Â  Â  Â  df_final['dia_semana'] = df_final['data'].dt.dayofweek
Â  Â  Â  Â  df_final['dia_mes'] = df_final['data'].dt.day
Â  Â  Â  Â  df_final['mes'] = df_final['data'].dt.month
Â  Â  Â  Â  df_final['ano'] = df_final['data'].dt.year
Â  Â  Â  Â  df_final['dia_ano'] = df_final['data'].dt.dayofyear
Â  Â  Â  Â  df_final['semana_ano'] = df_final['data'].dt.isocalendar().week
Â  Â  Â  Â  
Â  Â  Â  Â  self.df_processed = df_final.sort_values(['floor_key', 'data'])
Â  Â  Â  Â  
Â  Â  Â  Â  print(f"\nâœ… Processamento concluÃ­do:")
Â  Â  Â  Â  print(f" Â  ğŸ“Š {len(df_final):,} registros")
Â  Â  Â  Â  print(f" Â  ğŸ¢ {len(valid_floors)} andares vÃ¡lidos")
Â  Â  Â  Â  print(f" Â  ğŸ“… PerÃ­odo: {df_final['data'].min().date()} atÃ© {df_final['data'].max().date()}")
Â  Â  Â  Â  
Â  Â  Â  Â  return self.df_processed
Â  Â  
Â  Â  def buscar_clima_real(self, df):
Â  Â  Â  Â  """Busca clima via Open-Meteo API"""
Â  Â  Â  Â  print("\nğŸŒ¤ï¸ Buscando clima real (Open-Meteo)...")
Â  Â  Â  Â  
Â  Â  Â  Â  try:
Â  Â  Â  Â  Â  Â  cache_session = requests_cache.CachedSession('.cache', expire_after=3600)
Â  Â  Â  Â  Â  Â  retry_session = retry(cache_session, retries=5, backoff_factor=0.2)
Â  Â  Â  Â  Â  Â  openmeteo = openmeteo_requests.Client(session=retry_session)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  url = "https://api.open-meteo.com/v1/forecast"
Â  Â  Â  Â  Â  Â  params = {
Â  Â  Â  Â  Â  Â  Â  Â  "latitude": -23.5475,
Â  Â  Â  Â  Â  Â  Â  Â  "longitude": -46.6361,
Â  Â  Â  Â  Â  Â  Â  Â  "daily": ["temperature_2m_mean", "precipitation_sum"],
Â  Â  Â  Â  Â  Â  Â  Â  "timezone": "America/Sao_Paulo",
Â  Â  Â  Â  Â  Â  Â  Â  "past_days": 92,
Â  Â  Â  Â  Â  Â  Â  Â  "forecast_days": 16
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  responses = openmeteo.weather_api(url, params=params)
Â  Â  Â  Â  Â  Â  response = responses[0]
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  daily = response.Daily()
Â  Â  Â  Â  Â  Â  daily_temperature = daily.Variables(0).ValuesAsNumpy()
Â  Â  Â  Â  Â  Â  daily_rain = daily.Variables(1).ValuesAsNumpy()
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  clima_df = pd.DataFrame({
Â  Â  Â  Â  Â  Â  Â  Â  'data': pd.date_range(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  start=pd.to_datetime(daily.Time(), unit="s", utc=True),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  end=pd.to_datetime(daily.TimeEnd(), unit="s", utc=True),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  freq=pd.Timedelta(seconds=daily.Interval()),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inclusive="left"
Â  Â  Â  Â  Â  Â  Â  Â  ),
Â  Â  Â  Â  Â  Â  Â  Â  'temperatura': daily_temperature,
Â  Â  Â  Â  Â  Â  Â  Â  'precipitacao': daily_rain
Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  clima_df['data'] = clima_df['data'].dt.tz_convert('America/Sao_Paulo').dt.tz_localize(None)
Â  Â  Â  Â  Â  Â  clima_df['data'] = pd.to_datetime(clima_df['data'].dt.date)
Â  Â  Â  Â  Â  Â  df['data'] = pd.to_datetime(df['data'].dt.date)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  clima_df['chuva'] = (clima_df['precipitacao'] > 1.0).astype(int)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  df = df.merge(clima_df[['data', 'temperatura', 'chuva']], on='data', how='left')
Â  Â  Â  Â  Â  Â  df['temperatura'] = df['temperatura'].fillna(df['temperatura'].mean())
Â  Â  Â  Â  Â  Â  df['chuva'] = df['chuva'].fillna(0)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  print(f" Â  âœ… Clima obtido para {(~df['temperatura'].isna()).sum():,} dias")
Â  Â  Â  Â  Â  Â  return df, True
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  except Exception as e:
Â  Â  Â  Â  Â  Â  print(f" Â  âš ï¸ Erro: {e}. Usando dados simulados.")
Â  Â  Â  Â  Â  Â  df['temperatura'] = 25 + 5 * np.sin(df['mes'] * np.pi / 6) + np.random.normal(0, 2, len(df))
Â  Â  Â  Â  Â  Â  df['chuva'] = np.random.choice([0, 1], size=len(df), p=[0.7, 0.3])
Â  Â  Â  Â  Â  Â  return df, False
Â  Â  
Â  Â  def add_features(self):
Â  Â  Â  Â  """Cria features para ML"""
Â  Â  Â  Â  if self.df_processed is None or self.df_processed.empty:
Â  Â  Â  Â  Â  Â  return pd.DataFrame()
Â  Â  Â  Â  
Â  Â  Â  Â  print("\nâœ¨ Criando features de ML...")
Â  Â  Â  Â  df = self.df_processed.copy()
Â  Â  Â  Â  
Â  Â  Â  Â  df, clima_ok = self.buscar_clima_real(df)
Â  Â  Â  Â  
Â  Â  Â  Â  # Feriados brasileiros
Â  Â  Â  Â  feriados_br = pd.to_datetime([
Â  Â  Â  Â  Â  Â  '2024-01-01', '2024-02-13', '2024-03-29', '2024-04-21', '2024-05-01',
Â  Â  Â  Â  Â  Â  '2024-05-30', '2024-09-07', '2024-10-12', '2024-11-01', '2024-11-02',
Â  Â  Â  Â  Â  Â  '2024-11-15', '2024-11-20', '2024-12-25', '2024-12-31',
Â  Â  Â  Â  Â  Â  '2025-01-01', '2025-03-03', '2025-03-04', '2025-04-18', '2025-04-21',
Â  Â  Â  Â  Â  Â  '2025-05-01', '2025-06-19', '2025-09-07', '2025-10-12', '2025-11-01',
Â  Â  Â  Â  Â  Â  '2025-11-02', '2025-11-15', '2025-11-20', '2025-12-25', '2025-12-31'
Â  Â  Â  Â  ])
Â  Â  Â  Â  
Â  Â  Â  Â  df['feriado'] = df['data'].isin(feriados_br).astype(int)
Â  Â  Â  Â  df['feriado_ontem'] = df.groupby('floor_key')['feriado'].shift(1).fillna(0).astype(int)
Â  Â  Â  Â  df['feriado_amanha'] = df.groupby('floor_key')['feriado'].shift(-1).fillna(0).astype(int)
Â  Â  Â  Â  df['eh_emendado'] = ((df['feriado_ontem'] == 1) | (df['feriado_amanha'] == 1)).astype(int)
Â  Â  Â  Â  df['evento_especial'] = 0
Â  Â  Â  Â  
Â  Â  Â  Â  # Features temporais
Â  Â  Â  Â  df['eh_fds'] = df['dia_semana'].isin([5, 6]).astype(int)
Â  Â  Â  Â  df['eh_segunda'] = (df['dia_semana'] == 0).astype(int)
Â  Â  Â  Â  df['eh_sexta'] = (df['dia_semana'] == 4).astype(int)
Â  Â  Â  Â  df['eh_meio_semana'] = df['dia_semana'].isin([1, 2, 3]).astype(int)
Â  Â  Â  Â  
Â  Â  Â  Â  # Encoding cÃ­clico
Â  Â  Â  Â  df['dia_ano_sin'] = np.sin(2 * np.pi * df['dia_ano'] / 365)
Â  Â  Â  Â  df['dia_ano_cos'] = np.cos(2 * np.pi * df['dia_ano'] / 365)
Â  Â  Â  Â  df['dia_semana_sin'] = np.sin(2 * np.pi * df['dia_semana'] / 7)
Â  Â  Â  Â  df['dia_semana_cos'] = np.cos(2 * np.pi * df['dia_semana'] / 7)
Â  Â  Â  Â  
Â  Â  Â  Â  # LAGs
Â  Â  Â  Â  print(" Â  ğŸ“Š Criando lags (1, 2, 7, 14 dias)...")
Â  Â  Â  Â  for lag in [1, 2, 7, 14]:
Â  Â  Â  Â  Â  Â  df[f'ocupacao_lag_{lag}d'] = df.groupby('floor_key')['ocupacao_media_dia'].shift(lag)
Â  Â  Â  Â  
Â  Â  Â  Â  # Rolling
Â  Â  Â  Â  df['ocupacao_media_7d'] = df.groupby('floor_key')['ocupacao_media_dia'].shift(1).rolling(window=7, min_periods=1).mean().reset_index(level=0, drop=True)
Â  Â  Â  Â  df['ocupacao_media_30d'] = df.groupby('floor_key')['ocupacao_media_dia'].shift(1).rolling(window=30, min_periods=1).mean().reset_index(level=0, drop=True)
Â  Â  Â  Â  df['ocupacao_std_7d'] = df.groupby('floor_key')['ocupacao_media_dia'].shift(1).rolling(window=7, min_periods=1).std().reset_index(level=0, drop=True)
Â  Â  Â  Â  
Â  Â  Â  Â  # TendÃªncias
Â  Â  Â  Â  df['tendencia_diaria'] = df['ocupacao_lag_1d'] - df['ocupacao_lag_2d']
Â  Â  Â  Â  df['taxa_crescimento_semanal'] = (df['ocupacao_lag_1d'] - df['ocupacao_lag_7d']) / (df['ocupacao_lag_7d'] + 1)
Â  Â  Â  Â  
Â  Â  Â  Â  self.df_processed = df
Â  Â  Â  Â  print(f"âœ… Features criadas. Colunas: {len(df.columns)}")
Â  Â  Â  Â  return df
Â  Â  
Â  Â  def prepare_ml_dataset(self):
Â  Â  Â  Â  if self.df_processed is None or self.df_processed.empty:
Â  Â  Â  Â  Â  Â  return pd.DataFrame()
Â  Â  Â  Â  
Â  Â  Â  Â  print("\nğŸ¯ Preparando dataset para ML...")
Â  Â  Â  Â  df = self.df_processed.copy()
Â  Â  Â  Â  
Â  Â  Â  Â  df['target_ocupacao'] = df.groupby('floor_key')['ocupacao_media_dia'].shift(-1)
Â  Â  Â  Â  df = df.dropna(subset=['target_ocupacao', 'ocupacao_lag_14d'])
Â  Â  Â  Â  
Â  Â  Â  Â  feature_cols = [
Â  Â  Â  Â  Â  Â  'dia_semana', 'dia_mes', 'mes', 'semana_ano', 'dia_ano',
Â  Â  Â  Â  Â  Â  'dia_ano_sin', 'dia_ano_cos', 'dia_semana_sin', 'dia_semana_cos',
Â  Â  Â  Â  Â  Â  'temperatura', 'chuva', 
Â  Â  Â  Â  Â  Â  'feriado', 'feriado_ontem', 'feriado_amanha', 'eh_emendado', 'evento_especial',
Â  Â  Â  Â  Â  Â  'eh_fds', 'eh_segunda', 'eh_sexta', 'eh_meio_semana',
Â  Â  Â  Â  Â  Â  'ocupacao_lag_1d', 'ocupacao_lag_2d', 'ocupacao_lag_7d', 'ocupacao_lag_14d',
Â  Â  Â  Â  Â  Â  'ocupacao_media_7d', 'ocupacao_media_30d', 'ocupacao_std_7d',
Â  Â  Â  Â  Â  Â  'tendencia_diaria', 'taxa_crescimento_semanal',
Â  Â  Â  Â  Â  Â  'floor_key', 'building'
Â  Â  Â  Â  ]
Â  Â  Â  Â  
Â  Â  Â  Â  feature_cols = [col for col in feature_cols if col in df.columns]
Â  Â  Â  Â  df_ml = df[feature_cols + ['target_ocupacao', 'data', 'ocupacao_media_dia']].copy()
Â  Â  Â  Â  df_ml = df_ml.fillna(0)
Â  Â  Â  Â  
Â  Â  Â  Â  print(f"âœ… Dataset preparado: {len(df_ml):,} amostras")
Â  Â  Â  Â  print(f" Â  ğŸ¢ Andares: {df_ml['floor_key'].nunique()}")
Â  Â  Â  Â  print(f" Â  ğŸ“Š Features: {len(feature_cols)}")
Â  Â  Â  Â  
Â  Â  Â  Â  return df_ml
Â  Â  
Â  Â  def save_processed_data(self, df_to_save, filepath='data_processed_floor.csv'):
Â  Â  Â  Â  if df_to_save is not None and not df_to_save.empty:
Â  Â  Â  Â  Â  Â  df_to_save.to_csv(filepath, index=False)
Â  Â  Â  Â  Â  Â  print(f"\nğŸ’¾ Dados salvos: {filepath}")
Â  Â  Â  Â  Â  Â  print(f" Â  ğŸ“Š Registros: {len(df_to_save):,}")
Â  Â  Â  Â  Â  Â  return True
Â  Â  Â  Â  return False
Â  Â  
Â  Â  def get_floor_statistics(self):
Â  Â  Â  Â  """EstatÃ­sticas por andar"""
Â  Â  Â  Â  if self.df_processed is None:
Â  Â  Â  Â  Â  Â  return {}
Â  Â  Â  Â  
Â  Â  Â  Â  stats = {}
Â  Â  Â  Â  for floor in self.df_processed['floor_key'].unique():
Â  Â  Â  Â  Â  Â  df_f = self.df_processed[self.df_processed['floor_key'] == floor]
Â  Â  Â  Â  Â  Â  capacity = self.floor_capacities.get(floor, 0)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  stats[floor] = {
Â  Â  Â  Â  Â  Â  Â  Â  'dias': len(df_f),
Â  Â  Â  Â  Â  Â  Â  Â  'ocupacao_media': df_f['ocupacao_media_dia'].mean(),
Â  Â  Â  Â  Â  Â  Â  Â  'ocupacao_max': df_f['ocupacao_media_dia'].max(),
Â  Â  Â  Â  Â  Â  Â  Â  'ocupacao_min': df_f['ocupacao_media_dia'].min(),
Â  Â  Â  Â  Â  Â  Â  Â  'capacidade': capacity,
Â  Â  Â  Â  Â  Â  Â  Â  'periodo': f"{df_f['data'].min().date()} - {df_f['data'].max().date()}"
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  return stats

if __name__ == "__main__":
Â  Â  print("="*60)
Â  Â  print("ğŸš€ PROCESSADOR DE DADOS POR ANDAR - v1.0")
Â  Â  print("="*60)
Â  Â  
Â  Â  processor = FloorOccupationProcessor()
Â  Â  filepath = 'dados_catracas.csv'
Â  Â  
Â  Â  try:
Â  Â  Â  Â  processor.set_filepath(filepath)
Â  Â  Â  Â  df_processed = processor.clean_and_aggregate_chunks(chunksize=2000000)
Â  Â  Â  Â  
Â  Â  Â  Â  if df_processed is not None:
Â  Â  Â  Â  Â  Â  processor.add_features()
Â  Â  Â  Â  Â  Â  df_ml = processor.prepare_ml_dataset()
Â  Â  Â  Â  Â  Â  processor.save_processed_data(df_ml, 'data_processed_floor.csv')
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  print("\nğŸ“Š ESTATÃSTICAS POR ANDAR (TOP 10):")
Â  Â  Â  Â  Â  Â  print("="*60)
Â  Â  Â  Â  Â  Â  stats = processor.get_floor_statistics()
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  for i, (floor, data) in enumerate(list(stats.items())[:10]):
Â  Â  Â  Â  Â  Â  Â  Â  print(f"\n{i+1}. {floor}")
Â  Â  Â  Â  Â  Â  Â  Â  print(f" Â  â€¢ Dias: {data['dias']}")
Â  Â  Â  Â  Â  Â  Â  Â  print(f" Â  â€¢ OcupaÃ§Ã£o mÃ©dia: {data['ocupacao_media']:.0f} ({data['ocupacao_media']/data['capacidade']*100:.1f}%)")
Â  Â  Â  Â  Â  Â  Â  Â  print(f" Â  â€¢ PerÃ­odo: {data['periodo']}")
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  print(f"\nâœ… Total de andares processados: {len(stats)}")
Â  Â  Â  Â  Â  Â  print(f"\nğŸ”„ PrÃ³ximo passo: python train_model_floor.py")
Â  Â  Â  Â  
Â  Â  except Exception as e:
Â  Â  Â  Â  print(f"\nâŒ Erro: {str(e)}")
Â  Â  Â  Â  import traceback
Â  Â  Â  Â  traceback.print_exc()

<\data_processor>


esses foram os resultados do data_processor_floor
<results_data_processor_floor>C:\Users\RHMBARD\Downloads\novo_sistema>python data_processor_floor.py
============================================================
ğŸš€ PROCESSADOR DE DADOS POR ANDAR - v1.0
============================================================
ğŸ“‚ Arquivo de dados definido: dados_catracas.csv

ğŸ“Š Processando dados POR ANDAR (chunks de 2,000,000)...
   ğŸŒ€ Processando Lote 1...
      ğŸ“‰ Duplicatas removidas: 1,294,659
   ğŸŒ€ Processando Lote 2...
      ğŸ“‰ Duplicatas removidas: 1,231,070
   ğŸŒ€ Processando Lote 3...
      ğŸ“‰ Duplicatas removidas: 1,230,292
   ğŸŒ€ Processando Lote 4...
      ğŸ“‰ Duplicatas removidas: 1,241,198
   ğŸŒ€ Processando Lote 5...
      ğŸ“‰ Duplicatas removidas: 1,187,822
   ğŸŒ€ Processando Lote 6...
      ğŸ“‰ Duplicatas removidas: 1,202,385
   ğŸŒ€ Processando Lote 7...
      ğŸ“‰ Duplicatas removidas: 1,234,819
   ğŸŒ€ Processando Lote 8...
      ğŸ“‰ Duplicatas removidas: 1,214,278
   ğŸŒ€ Processando Lote 9...
      ğŸ“‰ Duplicatas removidas: 1,240,044
   ğŸŒ€ Processando Lote 10...
      ğŸ“‰ Duplicatas removidas: 1,345,359
   ğŸŒ€ Processando Lote 11...
      ğŸ“‰ Duplicatas removidas: 1,251,367
   ğŸŒ€ Processando Lote 12...
      ğŸ“‰ Duplicatas removidas: 1,208,376
   ğŸŒ€ Processando Lote 13...
      ğŸ“‰ Duplicatas removidas: 1,208,967
   ğŸŒ€ Processando Lote 14...
      ğŸ“‰ Duplicatas removidas: 1,199,354
   ğŸŒ€ Processando Lote 15...
      ğŸ“‰ Duplicatas removidas: 1,214,649
   ğŸŒ€ Processando Lote 16...
      ğŸ“‰ Duplicatas removidas: 1,222,052
   ğŸŒ€ Processando Lote 17...
      ğŸ“‰ Duplicatas removidas: 1,217,403
   ğŸŒ€ Processando Lote 18...
      ğŸ“‰ Duplicatas removidas: 640,815

   âœ… 18 lotes processados
   ğŸ“Š Registros originais: 35,069,730
   ğŸ“Š Duplicatas removidas: 27,655,506

   ğŸ” Filtrando andares com mÃ­nimo 200 dias...
      â€¢ Total de andares Ãºnicos: 99
      â€¢ Andares com â‰¥200 dias: 95
      â€¢ Andares removidos: 4

âœ… Processamento concluÃ­do:
   ğŸ“Š 26,058 registros
   ğŸ¢ 95 andares vÃ¡lidos
   ğŸ“… PerÃ­odo: 2024-11-01 atÃ© 2025-11-08

âœ¨ Criando features de ML...

ğŸŒ¤ï¸ Buscando clima real (Open-Meteo)...
   âš ï¸ Erro: failed to request 'https://api.open-meteo.com/v1/forecast': HTTPSConnectionPool(host='api.open-meteo.com', port=443): Max retries exceeded with url: /v1/forecast?llatitude=-23.5475&longitude=-46.6361&daily=temperature_2m_mean&daily=precipitation_sum&timezone=America%2FSao_Paulo&past_days=92&forecast_days=16&format=flatbuffers (Caused by ProtocolError('Connection aborted.', ConnectionResetError(10054, 'Foi forÃ§ado o cancelamento de uma conexÃ£o existente pelo host remoto', None, 10054, None))). Usando dados simulados.
   ğŸ“Š Criando lags (1, 2, 7, 14 dias)...
âœ… Features criadas. Colunas: 34

ğŸ¯ Preparando dataset para ML...
âœ… Dataset preparado: 24,633 amostras
   ğŸ¢ Andares: 95
   ğŸ“Š Features: 31

ğŸ’¾ Dados salvos: data_processed_floor.csv
   ğŸ“Š Registros: 24,633

ğŸ“Š ESTATÃSTICAS POR ANDAR (TOP 10):
============================================================

1. cea_cea_01
   â€¢ Dias: 255
   â€¢ OcupaÃ§Ã£o mÃ©dia: 507 (112.6%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

2. cea_cea_02
   â€¢ Dias: 257
   â€¢ OcupaÃ§Ã£o mÃ©dia: 485 (inf%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

3. cea_cea_03
   â€¢ Dias: 256
   â€¢ OcupaÃ§Ã£o mÃ©dia: 273 (59.1%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

4. cea_cea_04
   â€¢ Dias: 218
   â€¢ OcupaÃ§Ã£o mÃ©dia: 94 (32.1%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

5. cea_cea_07
   â€¢ Dias: 261
   â€¢ OcupaÃ§Ã£o mÃ©dia: 559 (94.4%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

6. cea_cea_09
   â€¢ Dias: 254
   â€¢ OcupaÃ§Ã£o mÃ©dia: 328 (198.7%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

7. centro_empresarial_alfredo_egydio_01
   â€¢ Dias: 332
   â€¢ OcupaÃ§Ã£o mÃ©dia: 284 (142.2%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-08

8. centro_empresarial_alfredo_egydio_02
   â€¢ Dias: 268
   â€¢ OcupaÃ§Ã£o mÃ©dia: 296 (148.0%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

9. centro_empresarial_alfredo_egydio_03
   â€¢ Dias: 270
   â€¢ OcupaÃ§Ã£o mÃ©dia: 129 (69.8%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-08

10. centro_empresarial_alfredo_egydio_04
   â€¢ Dias: 277
   â€¢ OcupaÃ§Ã£o mÃ©dia: 252 (127.0%)
   â€¢ PerÃ­odo: 2024-11-01 - 2025-11-07

âœ… Total de andares processados: 95

ğŸ”„ PrÃ³ximo passo: python train_model_floor.py

C:\Users\RHMBARD\Downloads\novo_sistema><results_data_processor_floor>



aqui esta o train_model_floor, ele treina o modelo, e estamos tendo problemas pois ele aceita RÂ² de -97%, e as previsÃµes nÃ£o estÃ£o boas
<train_model_floor>"""
========================================
TRAIN MODEL FLOOR - v1.0
========================================
âœ… Treina modelo POR ANDAR
âœ… Filtra andares com sMAPE > 50%
âœ… ValidaÃ§Ã£o individual por andar
âœ… Gradient Boosting otimizado
========================================
"""

import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.ensemble import GradientBoostingRegressor
from sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score
from sklearn.preprocessing import LabelEncoder
import joblib
import json
from datetime import datetime
import warnings
warnings.filterwarnings('ignore')

def safe_mape(y_true, y_pred):
Â  Â  """MAPE seguro"""
Â  Â  y_true, y_pred = np.array(y_true), np.array(y_pred)
Â  Â  mask = y_true > 50
Â  Â  if not np.any(mask):
Â  Â  Â  Â  return 0.0
Â  Â  return np.mean(np.abs((y_true[mask] - y_pred[mask]) / y_true[mask])) * 100

def symmetric_mape(y_true, y_pred):
Â  Â  """sMAPE - Metric principal"""
Â  Â  y_true, y_pred = np.array(y_true), np.array(y_pred)
Â  Â  mask = y_true > 50
Â  Â  if not np.any(mask):
Â  Â  Â  Â  return 0.0
Â  Â  y_true_safe = y_true[mask]
Â  Â  y_pred_safe = y_pred[mask]
Â  Â  return np.mean(2.0 * np.abs(y_pred_safe - y_true_safe) / (np.abs(y_true_safe) + np.abs(y_pred_safe))) * 100

class FloorOccupationPredictor:
Â  Â  
Â  Â  def __init__(self):
Â  Â  Â  Â  self.models = {} Â # Um modelo por andar
Â  Â  Â  Â  self.label_encoders = {}
Â  Â  Â  Â  self.feature_names = None
Â  Â  Â  Â  self.floor_metrics = {} Â # MÃ©tricas por andar
Â  Â  Â  Â  self.valid_floors = [] Â # Andares com sMAPE < 50%
Â  Â  Â  Â  
Â  Â  def prepare_data(self, df):
Â  Â  Â  Â  """Prepara dados para treinamento"""
Â  Â  Â  Â  print("\nğŸ”§ Preparando dados...")
Â  Â  Â  Â  df = df.copy()
Â  Â  Â  Â  
Â  Â  Â  Â  # Encoder para floor_key e building
Â  Â  Â  Â  le_floor = LabelEncoder()
Â  Â  Â  Â  le_building = LabelEncoder()
Â  Â  Â  Â  
Â  Â  Â  Â  df['floor_encoded'] = le_floor.fit_transform(df['floor_key'])
Â  Â  Â  Â  df['building_encoded'] = le_building.fit_transform(df['building'])
Â  Â  Â  Â  
Â  Â  Â  Â  self.label_encoders['floor'] = le_floor
Â  Â  Â  Â  self.label_encoders['building'] = le_building
Â  Â  Â  Â  
Â  Â  Â  Â  feature_cols = [
Â  Â  Â  Â  Â  Â  'dia_semana', 'dia_mes', 'mes', 'semana_ano', 'dia_ano',
Â  Â  Â  Â  Â  Â  'dia_ano_sin', 'dia_ano_cos', 'dia_semana_sin', 'dia_semana_cos',
Â  Â  Â  Â  Â  Â  'temperatura', 'chuva', 
Â  Â  Â  Â  Â  Â  'feriado', 'feriado_ontem', 'feriado_amanha', 'eh_emendado', 'evento_especial',
Â  Â  Â  Â  Â  Â  'eh_fds', 'eh_segunda', 'eh_sexta', 'eh_meio_semana',
Â  Â  Â  Â  Â  Â  'ocupacao_lag_1d', 'ocupacao_lag_2d', 'ocupacao_lag_7d', 'ocupacao_lag_14d',
Â  Â  Â  Â  Â  Â  'ocupacao_media_7d', 'ocupacao_media_30d', 'ocupacao_std_7d',
Â  Â  Â  Â  Â  Â  'tendencia_diaria', 'taxa_crescimento_semanal',
Â  Â  Â  Â  Â  Â  'floor_encoded', 'building_encoded'
Â  Â  Â  Â  ]
Â  Â  Â  Â  
Â  Â  Â  Â  feature_cols = [col for col in feature_cols if col in df.columns]
Â  Â  Â  Â  self.feature_names = feature_cols
Â  Â  Â  Â  
Â  Â  Â  Â  X = df[feature_cols]
Â  Â  Â  Â  y = df['target_ocupacao']
Â  Â  Â  Â  
Â  Â  Â  Â  print(f"âœ… Features: {len(feature_cols)}")
Â  Â  Â  Â  print(f"âœ… Amostras: {len(X):,}")
Â  Â  Â  Â  
Â  Â  Â  Â  return X, y, df
Â  Â  
Â  Â  def train_by_floor(self, df, test_size=0.2):
Â  Â  Â  Â  """Treina um modelo para CADA andar"""
Â  Â  Â  Â  print(f"\n{'='*60}")
Â  Â  Â  Â  print(f"ğŸ¤– TREINAMENTO POR ANDAR")
Â  Â  Â  Â  print(f"{'='*60}")
Â  Â  Â  Â  
Â  Â  Â  Â  floors = df['floor_key'].unique()
Â  Â  Â  Â  print(f"\nğŸ“Š Total de andares: {len(floors)}")
Â  Â  Â  Â  
Â  Â  Â  Â  X_full, y_full, df_prepared = self.prepare_data(df)
Â  Â  Â  Â  
Â  Â  Â  Â  valid_count = 0
Â  Â  Â  Â  rejected_count = 0
Â  Â  Â  Â  
Â  Â  Â  Â  for floor in floors:
Â  Â  Â  Â  Â  Â  print(f"\n{'â”€'*60}")
Â  Â  Â  Â  Â  Â  print(f"ğŸ¢ Andar: {floor}")
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Dados do andar
Â  Â  Â  Â  Â  Â  mask = df_prepared['floor_key'] == floor
Â  Â  Â  Â  Â  Â  X_floor = X_full[mask]
Â  Â  Â  Â  Â  Â  y_floor = y_full[mask]
Â  Â  Â  Â  Â  Â  dates_floor = df_prepared.loc[mask, 'data']
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if len(X_floor) < 200:
Â  Â  Â  Â  Â  Â  Â  Â  print(f" Â  âš ï¸ Poucos dados ({len(X_floor)} dias). Pulando.")
Â  Â  Â  Â  Â  Â  Â  Â  rejected_count += 1
Â  Â  Â  Â  Â  Â  Â  Â  continue
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Split temporal
Â  Â  Â  Â  Â  Â  cutoff_date = dates_floor.quantile(1 - test_size)
Â  Â  Â  Â  Â  Â  train_mask = (dates_floor < cutoff_date)
Â  Â  Â  Â  Â  Â  test_mask = (dates_floor >= cutoff_date)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  X_train = X_floor[train_mask.values]
Â  Â  Â  Â  Â  Â  X_test = X_floor[test_mask.values]
Â  Â  Â  Â  Â  Â  y_train = y_floor[train_mask.values]
Â  Â  Â  Â  Â  Â  y_test = y_floor[test_mask.values]
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if len(X_test) < 10:
Â  Â  Â  Â  Â  Â  Â  Â  print(f" Â  âš ï¸ Test set muito pequeno. Pulando.")
Â  Â  Â  Â  Â  Â  Â  Â  rejected_count += 1
Â  Â  Â  Â  Â  Â  Â  Â  continue
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  print(f" Â  ğŸ“Š Train: {len(X_train)} dias | Test: {len(X_test)} dias")
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Treinar modelo
Â  Â  Â  Â  Â  Â  model = GradientBoostingRegressor(
Â  Â  Â  Â  Â  Â  Â  Â  n_estimators=150,
Â  Â  Â  Â  Â  Â  Â  Â  learning_rate=0.08,
Â  Â  Â  Â  Â  Â  Â  Â  max_depth=4,
Â  Â  Â  Â  Â  Â  Â  Â  min_samples_split=20,
Â  Â  Â  Â  Â  Â  Â  Â  min_samples_leaf=15,
Â  Â  Â  Â  Â  Â  Â  Â  subsample=0.8,
Â  Â  Â  Â  Â  Â  Â  Â  max_features='sqrt',
Â  Â  Â  Â  Â  Â  Â  Â  random_state=42,
Â  Â  Â  Â  Â  Â  Â  Â  verbose=0
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  model.fit(X_train, y_train)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # PrediÃ§Ãµes
Â  Â  Â  Â  Â  Â  y_test_pred = np.maximum(model.predict(X_test), 0)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # MÃ©tricas
Â  Â  Â  Â  Â  Â  mae = mean_absolute_error(y_test, y_test_pred)
Â  Â  Â  Â  Â  Â  rmse = np.sqrt(mean_squared_error(y_test, y_test_pred))
Â  Â  Â  Â  Â  Â  r2 = r2_score(y_test, y_test_pred)
Â  Â  Â  Â  Â  Â  mape = safe_mape(y_test, y_test_pred)
Â  Â  Â  Â  Â  Â  smape = symmetric_mape(y_test, y_test_pred)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  print(f" Â  ğŸ“ˆ MÃ©tricas de Teste:")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ MAE: Â  {mae:>6.1f} pessoas")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ RMSE: Â {rmse:>6.1f} pessoas")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ RÂ²: Â  Â {r2:>6.4f} ({r2*100:.1f}%)")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ MAPE: Â {mape:>6.2f}%")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ sMAPE: {smape:>6.2f}%", end='')
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # ValidaÃ§Ã£o de qualidade
Â  Â  Â  Â  Â  Â  if smape <= 50:
Â  Â  Â  Â  Â  Â  Â  Â  print(f" âœ… APROVADO")
Â  Â  Â  Â  Â  Â  Â  Â  self.models[floor] = model
Â  Â  Â  Â  Â  Â  Â  Â  self.valid_floors.append(floor)
Â  Â  Â  Â  Â  Â  Â  Â  self.floor_metrics[floor] = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'mae': float(mae),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'rmse': float(rmse),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'r2': float(r2),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'mape': float(mape),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'smape': float(smape),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'train_size': int(len(X_train)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'test_size': int(len(X_test)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'status': 'valid'
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  valid_count += 1
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  print(f" âŒ REJEITADO (sMAPE > 50%)")
Â  Â  Â  Â  Â  Â  Â  Â  self.floor_metrics[floor] = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'smape': float(smape),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'status': 'rejected',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'reason': 'smape_too_high'
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  rejected_count += 1
Â  Â  Â  Â  
Â  Â  Â  Â  print(f"\n{'='*60}")
Â  Â  Â  Â  print(f"ğŸ“Š RESUMO DO TREINAMENTO")
Â  Â  Â  Â  print(f"{'='*60}")
Â  Â  Â  Â  print(f" Â  âœ… Andares aprovados (sMAPE â‰¤ 50%): {valid_count}")
Â  Â  Â  Â  print(f" Â  âŒ Andares rejeitados: {rejected_count}")
Â  Â  Â  Â  print(f" Â  ğŸ“ˆ Taxa de aprovaÃ§Ã£o: {valid_count/(valid_count+rejected_count)*100:.1f}%")
Â  Â  Â  Â  
Â  Â  Â  Â  # Top 5 melhores andares
Â  Â  Â  Â  valid_metrics = {k: v for k, v in self.floor_metrics.items() if v.get('status') == 'valid'}
Â  Â  Â  Â  sorted_floors = sorted(valid_metrics.items(), key=lambda x: x[1]['smape'])
Â  Â  Â  Â  
Â  Â  Â  Â  print(f"\nğŸ† TOP 5 MELHORES ANDARES (menor sMAPE):")
Â  Â  Â  Â  for i, (floor, metrics) in enumerate(sorted_floors[:5], 1):
Â  Â  Â  Â  Â  Â  print(f" Â  {i}. {floor}")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ sMAPE: {metrics['smape']:.2f}%")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ RÂ²: {metrics['r2']:.4f}")
Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â â€¢ Dias treino/teste: {metrics['train_size']}/{metrics['test_size']}")
Â  Â  Â  Â  
Â  Â  Â  Â  return valid_count > 0
Â  Â  
Â  Â  def predict_next_days(self, floor_key, current_features, n_days=7):
Â  Â  Â  Â  """Prediz prÃ³ximos N dias para um andar"""
Â  Â  Â  Â  if floor_key not in self.models:
Â  Â  Â  Â  Â  Â  return None
Â  Â  Â  Â  
Â  Â  Â  Â  model = self.models[floor_key]
Â  Â  Â  Â  predictions = []
Â  Â  Â  Â  features = current_features.copy()
Â  Â  Â  Â  
Â  Â  Â  Â  for day in range(n_days):
Â  Â  Â  Â  Â  Â  df = pd.DataFrame([features])
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Encoders
Â  Â  Â  Â  Â  Â  if 'floor_key' in df.columns:
Â  Â  Â  Â  Â  Â  Â  Â  df['floor_encoded'] = self.label_encoders['floor'].transform(df['floor_key'])
Â  Â  Â  Â  Â  Â  if 'building' in df.columns:
Â  Â  Â  Â  Â  Â  Â  Â  df['building_encoded'] = self.label_encoders['building'].transform(df['building'])
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  for feat in self.feature_names:
Â  Â  Â  Â  Â  Â  Â  Â  if feat not in df.columns:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  df[feat] = 0
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  X = df[self.feature_names]
Â  Â  Â  Â  Â  Â  prediction = max(0, model.predict(X)[0])
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  predictions.append({
Â  Â  Â  Â  Â  Â  Â  Â  'day_offset': day + 1,
Â  Â  Â  Â  Â  Â  Â  Â  'prediction': float(prediction)
Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Atualizar features para prÃ³ximo dia
Â  Â  Â  Â  Â  Â  features['ocupacao_lag_14d'] = features.get('ocupacao_lag_7d', 0)
Â  Â  Â  Â  Â  Â  features['ocupacao_lag_7d'] = features.get('ocupacao_lag_2d', 0)
Â  Â  Â  Â  Â  Â  features['ocupacao_lag_2d'] = features.get('ocupacao_lag_1d', 0)
Â  Â  Â  Â  Â  Â  features['ocupacao_lag_1d'] = prediction
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if 'dia_semana' in features:
Â  Â  Â  Â  Â  Â  Â  Â  features['dia_semana'] = (features['dia_semana'] + 1) % 7
Â  Â  Â  Â  Â  Â  Â  Â  features['eh_fds'] = int(features['dia_semana'] in [5, 6])
Â  Â  Â  Â  Â  Â  Â  Â  features['eh_segunda'] = int(features['dia_semana'] == 0)
Â  Â  Â  Â  Â  Â  Â  Â  features['eh_sexta'] = int(features['dia_semana'] == 4)
Â  Â  Â  Â  Â  Â  Â  Â  features['eh_meio_semana'] = int(features['dia_semana'] in [1, 2, 3])
Â  Â  Â  Â  
Â  Â  Â  Â  return predictions
Â  Â  
Â  Â  def save_model(self, filepath='model_floor.pkl'):
Â  Â  Â  Â  """Salva modelos e encoders"""
Â  Â  Â  Â  model_data = {
Â  Â  Â  Â  Â  Â  'models': self.models,
Â  Â  Â  Â  Â  Â  'label_encoders': self.label_encoders,
Â  Â  Â  Â  Â  Â  'feature_names': self.feature_names,
Â  Â  Â  Â  Â  Â  'floor_metrics': self.floor_metrics,
Â  Â  Â  Â  Â  Â  'valid_floors': self.valid_floors,
Â  Â  Â  Â  Â  Â  'trained_at': datetime.now().isoformat()
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  joblib.dump(model_data, filepath)
Â  Â  Â  Â  print(f"\nğŸ’¾ Modelo salvo: {filepath}")
Â  Â  Â  Â  
Â  Â  Â  Â  # Salvar mÃ©tricas separadamente
Â  Â  Â  Â  metrics_file = filepath.replace('.pkl', '_metrics.json')
Â  Â  Â  Â  with open(metrics_file, 'w') as f:
Â  Â  Â  Â  Â  Â  json.dump(self.floor_metrics, f, indent=2)
Â  Â  Â  Â  print(f"ğŸ“Š MÃ©tricas salvas: {metrics_file}")
Â  Â  Â  Â  
Â  Â  Â  Â  return True
Â  Â  
Â  Â  def load_model(self, filepath='model_floor.pkl'):
Â  Â  Â  Â  """Carrega modelos treinados"""
Â  Â  Â  Â  model_data = joblib.load(filepath)
Â  Â  Â  Â  self.models = model_data['models']
Â  Â  Â  Â  self.label_encoders = model_data['label_encoders']
Â  Â  Â  Â  self.feature_names = model_data['feature_names']
Â  Â  Â  Â  self.floor_metrics = model_data['floor_metrics']
Â  Â  Â  Â  self.valid_floors = model_data['valid_floors']
Â  Â  Â  Â  
Â  Â  Â  Â  print(f"âœ… Modelo carregado: {filepath}")
Â  Â  Â  Â  print(f" Â  â€¢ Andares vÃ¡lidos: {len(self.valid_floors)}")
Â  Â  Â  Â  return True

def main():
Â  Â  print("="*60)
Â  Â  print("ğŸ¤– TREINAMENTO DO MODELO POR ANDAR - v1.0")
Â  Â  print("="*60)
Â  Â  
Â  Â  print("\nğŸ“‚ Carregando dados processados...")
Â  Â  try:
Â  Â  Â  Â  df = pd.read_csv('data_processed_floor.csv')
Â  Â  Â  Â  df['data'] = pd.to_datetime(df['data'])
Â  Â  Â  Â  print(f"âœ… Dados carregados: {len(df):,} registros")
Â  Â  Â  Â  print(f" Â  ğŸ¢ Andares Ãºnicos: {df['floor_key'].nunique()}")
Â  Â  Â  Â  print(f" Â  ğŸ“… PerÃ­odo: {df['data'].min().date()} - {df['data'].max().date()}")
Â  Â  except FileNotFoundError:
Â  Â  Â  Â  print("âŒ Erro: Arquivo 'data_processed_floor.csv' nÃ£o encontrado!")
Â  Â  Â  Â  print(" Â  Execute: python data_processor_floor.py")
Â  Â  Â  Â  return
Â  Â  
Â  Â  predictor = FloorOccupationPredictor()
Â  Â  success = predictor.train_by_floor(df, test_size=0.2)
Â  Â  
Â  Â  if success:
Â  Â  Â  Â  predictor.save_model('model_floor.pkl')
Â  Â  Â  Â  
Â  Â  Â  Â  print("\nâœ… Treinamento concluÃ­do!")
Â  Â  Â  Â  print(f"ğŸ“ Arquivos gerados:")
Â  Â  Â  Â  print(f" Â  â€¢ model_floor.pkl")
Â  Â  Â  Â  print(f" Â  â€¢ model_floor_metrics.json")
Â  Â  Â  Â  print(f"\nğŸ”„ PrÃ³ximo passo: python gerar_json_floor.py")
Â  Â  else:
Â  Â  Â  Â  print("\nâŒ Nenhum andar foi aprovado no treinamento!")
Â  Â  Â  Â  print(" Â  Verifique os dados de entrada.")

if __name__ == "__main__":
Â  Â  main()

<\train_model_floor>


agora temos os resultados do terminal do train_model
<results_train_model_floor>C:\Users\RHMBARD\Downloads\novo_sistema> python train_model_floor.py

============================================================

ğŸ¤– TREINAMENTO DO MODELO POR ANDAR - v1.0

============================================================

ğŸ“‚ Carregando dados processados...

âœ… Dados carregados: 24,633 registros

   ğŸ¢ Andares Ãºnicos: 95

   ğŸ“… PerÃ­odo: 2024-11-15 - 2025-11-07

============================================================

ğŸ¤– TREINAMENTO POR ANDAR

============================================================

ğŸ“Š Total de andares: 95

ğŸ”§ Preparando dados...

âœ… Features: 31

âœ… Amostras: 24,633

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: cea_cea_01

   ğŸ“Š Train: 192 dias | Test: 48 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     92.4 pessoas

      â€¢ RMSE:   155.2 pessoas

      â€¢ RÂ²:    0.6185 (61.9%)

      â€¢ MAPE:   24.67%

      â€¢ sMAPE:  18.33% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: cea_cea_02

   ğŸ“Š Train: 193 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     84.6 pessoas

      â€¢ RMSE:   107.3 pessoas

      â€¢ RÂ²:    0.4109 (41.1%)

      â€¢ MAPE:   21.44%

      â€¢ sMAPE:  18.00% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: cea_cea_03

   ğŸ“Š Train: 192 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     67.4 pessoas

      â€¢ RMSE:    93.8 pessoas

      â€¢ RÂ²:    -0.0343 (-3.4%)

      â€¢ MAPE:   39.33%

      â€¢ sMAPE:  24.12% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: cea_cea_04

   ğŸ“Š Train: 162 dias | Test: 41 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     44.7 pessoas

      â€¢ RMSE:    67.7 pessoas

      â€¢ RÂ²:    0.5620 (56.2%)

      â€¢ MAPE:   19.42%

      â€¢ sMAPE:  25.80% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: cea_cea_07

   ğŸ“Š Train: 196 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    150.0 pessoas

      â€¢ RMSE:   220.0 pessoas

      â€¢ RÂ²:    -0.0874 (-8.7%)

      â€¢ MAPE:   30.81%

      â€¢ sMAPE:  21.81% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: cea_cea_09

   ğŸ“Š Train: 191 dias | Test: 48 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     81.8 pessoas

      â€¢ RMSE:   105.8 pessoas

      â€¢ RÂ²:    0.5586 (55.9%)

      â€¢ MAPE:   19.32%

      â€¢ sMAPE:  18.67% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_01

   ğŸ“Š Train: 253 dias | Test: 64 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    107.1 pessoas

      â€¢ RMSE:   137.6 pessoas

      â€¢ RÂ²:    0.4406 (44.1%)

      â€¢ MAPE:   39.59%

      â€¢ sMAPE:  31.64% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_02

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     69.0 pessoas

      â€¢ RMSE:   101.1 pessoas

      â€¢ RÂ²:    0.5195 (52.0%)

      â€¢ MAPE:   21.41%

      â€¢ sMAPE:  21.54% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_03

   ğŸ“Š Train: 204 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     32.2 pessoas

      â€¢ RMSE:    44.0 pessoas

      â€¢ RÂ²:    0.0345 (3.5%)

      â€¢ MAPE:   24.60%

      â€¢ sMAPE:  21.90% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_04

   ğŸ“Š Train: 209 dias | Test: 53 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     65.8 pessoas

      â€¢ RMSE:    91.1 pessoas

      â€¢ RÂ²:    -0.0920 (-9.2%)

      â€¢ MAPE:   21.41%

      â€¢ sMAPE:  23.06% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_05

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     69.7 pessoas

      â€¢ RMSE:    90.1 pessoas

      â€¢ RÂ²:    0.0768 (7.7%)

      â€¢ MAPE:   33.14%

      â€¢ sMAPE:  26.40% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_06

   ğŸ“Š Train: 204 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     72.1 pessoas

      â€¢ RMSE:   103.0 pessoas

      â€¢ RÂ²:    0.0904 (9.0%)

      â€¢ MAPE:   24.29%

      â€¢ sMAPE:  21.30% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_07

   ğŸ“Š Train: 218 dias | Test: 55 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    134.0 pessoas

      â€¢ RMSE:   176.0 pessoas

      â€¢ RÂ²:    0.2305 (23.0%)

      â€¢ MAPE:   34.25%

      â€¢ sMAPE:  26.97% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_08

   ğŸ“Š Train: 216 dias | Test: 55 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    165.2 pessoas

      â€¢ RMSE:   232.1 pessoas

      â€¢ RÂ²:    0.0164 (1.6%)

      â€¢ MAPE:   37.22%

      â€¢ sMAPE:  24.73% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_09

   ğŸ“Š Train: 200 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     31.5 pessoas

      â€¢ RMSE:    41.5 pessoas

      â€¢ RÂ²:    -0.4307 (-43.1%)

      â€¢ MAPE:   30.86%

      â€¢ sMAPE:  26.11% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_10

   ğŸ“Š Train: 200 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     42.2 pessoas

      â€¢ RMSE:    57.0 pessoas

      â€¢ RÂ²:    -0.4725 (-47.2%)

      â€¢ MAPE:   31.07%

      â€¢ sMAPE:  25.26% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_11

   ğŸ“Š Train: 196 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     18.9 pessoas

      â€¢ RMSE:    25.1 pessoas

      â€¢ RÂ²:    -0.5221 (-52.2%)

      â€¢ MAPE:   20.05%

      â€¢ sMAPE:  18.32% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_alfredo_egydio_12

   ğŸ“Š Train: 211 dias | Test: 53 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    106.6 pessoas

      â€¢ RMSE:   148.8 pessoas

      â€¢ RÂ²:    0.2087 (20.9%)

      â€¢ MAPE:   22.14%

      â€¢ sMAPE:  20.97% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_01

   ğŸ“Š Train: 201 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     41.7 pessoas

      â€¢ RMSE:    60.1 pessoas

      â€¢ RÂ²:    0.0121 (1.2%)

      â€¢ MAPE:   18.57%

      â€¢ sMAPE:  17.23% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_02

   ğŸ“Š Train: 197 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     30.8 pessoas

      â€¢ RMSE:    41.5 pessoas

      â€¢ RÂ²:    0.0275 (2.8%)

      â€¢ MAPE:   26.89%

      â€¢ sMAPE:  23.28% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_03

   ğŸ“Š Train: 207 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     60.3 pessoas

      â€¢ RMSE:    83.7 pessoas

      â€¢ RÂ²:    0.2254 (22.5%)

      â€¢ MAPE:   26.85%

      â€¢ sMAPE:  29.49% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_04

   ğŸ“Š Train: 193 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     13.8 pessoas

      â€¢ RMSE:    19.2 pessoas

      â€¢ RÂ²:    0.3445 (34.4%)

      â€¢ MAPE:   13.28%

      â€¢ sMAPE:  12.93% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_05

   âš ï¸ Poucos dados (187 dias). Pulando.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_06

   ğŸ“Š Train: 193 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     28.2 pessoas

      â€¢ RMSE:    37.4 pessoas

      â€¢ RÂ²:    0.7833 (78.3%)

      â€¢ MAPE:   21.17%

      â€¢ sMAPE:  20.94% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_07

   ğŸ“Š Train: 196 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     70.9 pessoas

      â€¢ RMSE:   124.9 pessoas

      â€¢ RÂ²:    0.3763 (37.6%)

      â€¢ MAPE:   17.09%

      â€¢ sMAPE:  17.26% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_08

   ğŸ“Š Train: 200 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     96.0 pessoas

      â€¢ RMSE:   131.2 pessoas

      â€¢ RÂ²:    -0.2091 (-20.9%)

      â€¢ MAPE:   36.71%

      â€¢ sMAPE:  28.29% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_09

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     91.8 pessoas

      â€¢ RMSE:   148.3 pessoas

      â€¢ RÂ²:    0.0754 (7.5%)

      â€¢ MAPE:   20.01%

      â€¢ sMAPE:  16.57% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_10

   ğŸ“Š Train: 220 dias | Test: 55 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    226.9 pessoas

      â€¢ RMSE:   338.5 pessoas

      â€¢ RÂ²:    0.0758 (7.6%)

      â€¢ MAPE:   44.10%

      â€¢ sMAPE:  28.85% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_11

   ğŸ“Š Train: 196 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     44.1 pessoas

      â€¢ RMSE:    54.2 pessoas

      â€¢ RÂ²:    -0.9706 (-97.1%)

      â€¢ MAPE:   40.61%

      â€¢ sMAPE:  35.05% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_12

   ğŸ“Š Train: 198 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     41.6 pessoas

      â€¢ RMSE:    59.6 pessoas

      â€¢ RÂ²:    0.5254 (52.5%)

      â€¢ MAPE:   21.61%

      â€¢ sMAPE:  20.76% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_conceicao_pm

   ğŸ“Š Train: 208 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     59.5 pessoas

      â€¢ RMSE:    81.5 pessoas

      â€¢ RÂ²:    0.2186 (21.9%)

      â€¢ MAPE:   28.99%

      â€¢ sMAPE:  24.24% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_01

   ğŸ“Š Train: 199 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     68.4 pessoas

      â€¢ RMSE:    80.6 pessoas

      â€¢ RÂ²:    -0.2503 (-25.0%)

      â€¢ MAPE:   36.63%

      â€¢ sMAPE:  37.97% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_02

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     25.1 pessoas

      â€¢ RMSE:    33.6 pessoas

      â€¢ RÂ²:    -0.1705 (-17.1%)

      â€¢ MAPE:   22.44%

      â€¢ sMAPE:  19.85% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_03

   ğŸ“Š Train: 204 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     98.3 pessoas

      â€¢ RMSE:   137.0 pessoas

      â€¢ RÂ²:    0.4748 (47.5%)

      â€¢ MAPE:   28.93%

      â€¢ sMAPE:  27.36% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_04

   ğŸ“Š Train: 208 dias | Test: 53 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    143.5 pessoas

      â€¢ RMSE:   200.7 pessoas

      â€¢ RÂ²:    0.4088 (40.9%)

      â€¢ MAPE:   28.78%

      â€¢ sMAPE:  26.01% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_05

   ğŸ“Š Train: 219 dias | Test: 55 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    148.3 pessoas

      â€¢ RMSE:   191.0 pessoas

      â€¢ RÂ²:    0.4992 (49.9%)

      â€¢ MAPE:   43.52%

      â€¢ sMAPE:  48.41% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_06

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     85.8 pessoas

      â€¢ RMSE:   115.0 pessoas

      â€¢ RÂ²:    0.7062 (70.6%)

      â€¢ MAPE:   36.57%

      â€¢ sMAPE:  30.18% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_07

   ğŸ“Š Train: 200 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     99.1 pessoas

      â€¢ RMSE:   124.5 pessoas

      â€¢ RÂ²:    -0.3369 (-33.7%)

      â€¢ MAPE:   58.42%

      â€¢ sMAPE:  48.03% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_08

   ğŸ“Š Train: 204 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    174.8 pessoas

      â€¢ RMSE:   257.3 pessoas

      â€¢ RÂ²:    0.6089 (60.9%)

      â€¢ MAPE:   73.60%

      â€¢ sMAPE:  35.51% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_09

   ğŸ“Š Train: 200 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     87.4 pessoas

      â€¢ RMSE:   125.0 pessoas

      â€¢ RÂ²:    0.4822 (48.2%)

      â€¢ MAPE:   27.97%

      â€¢ sMAPE:  26.95% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_10

   ğŸ“Š Train: 207 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    172.6 pessoas

      â€¢ RMSE:   221.6 pessoas

      â€¢ RÂ²:    0.6976 (69.8%)

      â€¢ MAPE:   38.98%

      â€¢ sMAPE:  29.83% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_11

   ğŸ“Š Train: 213 dias | Test: 54 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    251.7 pessoas

      â€¢ RMSE:   311.3 pessoas

      â€¢ RÂ²:    -0.6177 (-61.8%)

      â€¢ MAPE:   43.83%

      â€¢ sMAPE:  50.80% âŒ REJEITADO (sMAPE > 50%)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_12

   ğŸ“Š Train: 211 dias | Test: 53 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    301.6 pessoas

      â€¢ RMSE:   378.1 pessoas

      â€¢ RÂ²:    0.1930 (19.3%)

      â€¢ MAPE:   33.00%

      â€¢ sMAPE:  28.36% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_13

   ğŸ“Š Train: 198 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    120.1 pessoas

      â€¢ RMSE:   150.0 pessoas

      â€¢ RÂ²:    -0.1387 (-13.9%)

      â€¢ MAPE:   39.29%

      â€¢ sMAPE:  42.88% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_14

   ğŸ“Š Train: 198 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    337.0 pessoas

      â€¢ RMSE:   403.6 pessoas

      â€¢ RÂ²:    -0.8515 (-85.1%)

      â€¢ MAPE:  185.97%

      â€¢ sMAPE: 113.87% âŒ REJEITADO (sMAPE > 50%)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_eudoro_villela_15

   ğŸ“Š Train: 198 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    480.0 pessoas

      â€¢ RMSE:   540.1 pessoas

      â€¢ RÂ²:    -0.5419 (-54.2%)

      â€¢ MAPE:  140.60%

      â€¢ sMAPE: 100.38% âŒ REJEITADO (sMAPE > 50%)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_01

   ğŸ“Š Train: 167 dias | Test: 42 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:      6.8 pessoas

      â€¢ RMSE:     9.3 pessoas

      â€¢ RÂ²:    0.6507 (65.1%)

      â€¢ MAPE:   26.72%

      â€¢ sMAPE:  30.85% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_02

   ğŸ“Š Train: 201 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     44.8 pessoas

      â€¢ RMSE:    58.9 pessoas

      â€¢ RÂ²:    0.0373 (3.7%)

      â€¢ MAPE:   39.02%

      â€¢ sMAPE:  30.94% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_03

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     57.4 pessoas

      â€¢ RMSE:    72.8 pessoas

      â€¢ RÂ²:    0.1390 (13.9%)

      â€¢ MAPE:   31.19%

      â€¢ sMAPE:  26.10% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_04

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     26.8 pessoas

      â€¢ RMSE:    38.6 pessoas

      â€¢ RÂ²:    0.4716 (47.2%)

      â€¢ MAPE:   18.52%

      â€¢ sMAPE:  16.93% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_05

   ğŸ“Š Train: 196 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     49.1 pessoas

      â€¢ RMSE:    63.6 pessoas

      â€¢ RÂ²:    0.0130 (1.3%)

      â€¢ MAPE:   26.03%

      â€¢ sMAPE:  26.39% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_06

   ğŸ“Š Train: 211 dias | Test: 53 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     68.4 pessoas

      â€¢ RMSE:    86.5 pessoas

      â€¢ RÂ²:    0.2088 (20.9%)

      â€¢ MAPE:   39.20%

      â€¢ sMAPE:  32.03% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_07

   ğŸ“Š Train: 201 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     60.5 pessoas

      â€¢ RMSE:    71.4 pessoas

      â€¢ RÂ²:    -0.0769 (-7.7%)

      â€¢ MAPE:   31.25%

      â€¢ sMAPE:  31.14% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_08

   ğŸ“Š Train: 192 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     27.2 pessoas

      â€¢ RMSE:    36.4 pessoas

      â€¢ RÂ²:    0.2983 (29.8%)

      â€¢ MAPE:   19.64%

      â€¢ sMAPE:  21.00% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_09

   ğŸ“Š Train: 194 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     36.8 pessoas

      â€¢ RMSE:    45.6 pessoas

      â€¢ RÂ²:    -0.2862 (-28.6%)

      â€¢ MAPE:   32.32%

      â€¢ sMAPE:  26.71% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_10

   ğŸ“Š Train: 196 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     31.2 pessoas

      â€¢ RMSE:    43.1 pessoas

      â€¢ RÂ²:    0.5618 (56.2%)

      â€¢ MAPE:   19.69%

      â€¢ sMAPE:  18.31% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_11

   ğŸ“Š Train: 192 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     19.6 pessoas

      â€¢ RMSE:    27.9 pessoas

      â€¢ RÂ²:    0.5663 (56.6%)

      â€¢ MAPE:   14.23%

      â€¢ sMAPE:  15.77% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_jabaquara_12

   ğŸ“Š Train: 201 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     79.9 pessoas

      â€¢ RMSE:   111.9 pessoas

      â€¢ RÂ²:    0.6507 (65.1%)

      â€¢ MAPE:   38.60%

      â€¢ sMAPE:  26.79% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_01

   ğŸ“Š Train: 197 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     37.2 pessoas

      â€¢ RMSE:    58.8 pessoas

      â€¢ RÂ²:    0.1494 (14.9%)

      â€¢ MAPE:   16.52%

      â€¢ sMAPE:  15.68% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_02

   ğŸ“Š Train: 197 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     34.6 pessoas

      â€¢ RMSE:    50.4 pessoas

      â€¢ RÂ²:    0.5432 (54.3%)

      â€¢ MAPE:   19.77%

      â€¢ sMAPE:  18.43% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_03

   ğŸ“Š Train: 198 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     24.6 pessoas

      â€¢ RMSE:    35.5 pessoas

      â€¢ RÂ²:    0.6601 (66.0%)

      â€¢ MAPE:   16.68%

      â€¢ sMAPE:  16.29% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_04

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     59.2 pessoas

      â€¢ RMSE:    78.8 pessoas

      â€¢ RÂ²:    0.0242 (2.4%)

      â€¢ MAPE:   27.47%

      â€¢ sMAPE:  23.87% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_05

   ğŸ“Š Train: 200 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     40.3 pessoas

      â€¢ RMSE:    52.3 pessoas

      â€¢ RÂ²:    0.0121 (1.2%)

      â€¢ MAPE:   26.80%

      â€¢ sMAPE:  23.23% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_06

   ğŸ“Š Train: 204 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     54.7 pessoas

      â€¢ RMSE:    71.0 pessoas

      â€¢ RÂ²:    0.3069 (30.7%)

      â€¢ MAPE:   26.10%

      â€¢ sMAPE:  28.06% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_07

   ğŸ“Š Train: 200 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     53.3 pessoas

      â€¢ RMSE:    68.6 pessoas

      â€¢ RÂ²:    0.4738 (47.4%)

      â€¢ MAPE:   24.05%

      â€¢ sMAPE:  23.33% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_08

   ğŸ“Š Train: 207 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     75.7 pessoas

      â€¢ RMSE:    98.5 pessoas

      â€¢ RÂ²:    -0.2086 (-20.9%)

      â€¢ MAPE:   33.32%

      â€¢ sMAPE:  29.75% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_olavo_setubal_terreo

   ğŸ“Š Train: 202 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     64.7 pessoas

      â€¢ RMSE:    87.7 pessoas

      â€¢ RÂ²:    0.2111 (21.1%)

      â€¢ MAPE:   28.83%

      â€¢ sMAPE:  23.45% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_01

   ğŸ“Š Train: 212 dias | Test: 53 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    124.1 pessoas

      â€¢ RMSE:   154.8 pessoas

      â€¢ RÂ²:    0.0666 (6.7%)

      â€¢ MAPE:   42.50%

      â€¢ sMAPE:  37.08% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_02

   ğŸ“Š Train: 204 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     95.7 pessoas

      â€¢ RMSE:   134.4 pessoas

      â€¢ RÂ²:    0.2941 (29.4%)

      â€¢ MAPE:   27.78%

      â€¢ sMAPE:  23.25% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_03

   ğŸ“Š Train: 204 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     92.6 pessoas

      â€¢ RMSE:   129.0 pessoas

      â€¢ RÂ²:    -0.1329 (-13.3%)

      â€¢ MAPE:   26.06%

      â€¢ sMAPE:  22.52% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_04

   ğŸ“Š Train: 206 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     72.5 pessoas

      â€¢ RMSE:    98.4 pessoas

      â€¢ RÂ²:    0.0904 (9.0%)

      â€¢ MAPE:   27.74%

      â€¢ sMAPE:  25.00% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_05

   ğŸ“Š Train: 200 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     37.3 pessoas

      â€¢ RMSE:    50.4 pessoas

      â€¢ RÂ²:    0.0432 (4.3%)

      â€¢ MAPE:   22.27%

      â€¢ sMAPE:  19.50% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_06

   ğŸ“Š Train: 199 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     37.0 pessoas

      â€¢ RMSE:    45.7 pessoas

      â€¢ RÂ²:    0.0278 (2.8%)

      â€¢ MAPE:   31.19%

      â€¢ sMAPE:  26.03% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_07

   ğŸ“Š Train: 225 dias | Test: 57 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     75.3 pessoas

      â€¢ RMSE:   102.5 pessoas

      â€¢ RÂ²:    0.2591 (25.9%)

      â€¢ MAPE:   27.44%

      â€¢ sMAPE:  23.23% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_08

   ğŸ“Š Train: 200 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     58.0 pessoas

      â€¢ RMSE:    75.5 pessoas

      â€¢ RÂ²:    -0.0669 (-6.7%)

      â€¢ MAPE:   33.35%

      â€¢ sMAPE:  27.22% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_09

   ğŸ“Š Train: 200 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     34.8 pessoas

      â€¢ RMSE:    47.3 pessoas

      â€¢ RÂ²:    0.6094 (60.9%)

      â€¢ MAPE:   22.59%

      â€¢ sMAPE:  20.24% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_10

   ğŸ“Š Train: 198 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     28.0 pessoas

      â€¢ RMSE:    38.0 pessoas

      â€¢ RÂ²:    -0.0653 (-6.5%)

      â€¢ MAPE:   17.37%

      â€¢ sMAPE:  18.08% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_11

   ğŸ“Š Train: 198 dias | Test: 50 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     36.9 pessoas

      â€¢ RMSE:    46.8 pessoas

      â€¢ RÂ²:    0.4444 (44.4%)

      â€¢ MAPE:   25.70%

      â€¢ sMAPE:  22.86% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: centro_empresarial_wms_12

   ğŸ“Š Train: 210 dias | Test: 53 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     97.1 pessoas

      â€¢ RMSE:   124.8 pessoas

      â€¢ RÂ²:    0.2228 (22.3%)

      â€¢ MAPE:   28.24%

      â€¢ sMAPE:  26.45% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_01

   ğŸ“Š Train: 285 dias | Test: 72 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     99.3 pessoas

      â€¢ RMSE:   140.7 pessoas

      â€¢ RÂ²:    0.8498 (85.0%)

      â€¢ MAPE:   35.80%

      â€¢ sMAPE:  20.41% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_02

   ğŸ“Š Train: 241 dias | Test: 61 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    232.8 pessoas

      â€¢ RMSE:   334.9 pessoas

      â€¢ RÂ²:    0.5017 (50.2%)

      â€¢ MAPE:   42.72%

      â€¢ sMAPE:  26.08% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_03

   ğŸ“Š Train: 222 dias | Test: 56 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    217.0 pessoas

      â€¢ RMSE:   266.0 pessoas

      â€¢ RÂ²:    0.2721 (27.2%)

      â€¢ MAPE:   31.15%

      â€¢ sMAPE:  24.89% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_04

   ğŸ“Š Train: 220 dias | Test: 55 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    117.1 pessoas

      â€¢ RMSE:   137.0 pessoas

      â€¢ RÂ²:    0.1351 (13.5%)

      â€¢ MAPE:   32.46%

      â€¢ sMAPE:  30.49% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_05

   ğŸ“Š Train: 268 dias | Test: 68 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     71.1 pessoas

      â€¢ RMSE:    86.0 pessoas

      â€¢ RÂ²:    0.7017 (70.2%)

      â€¢ MAPE:   29.76%

      â€¢ sMAPE:  31.50% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_07

   ğŸ“Š Train: 193 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     21.5 pessoas

      â€¢ RMSE:    26.4 pessoas

      â€¢ RÂ²:    0.8320 (83.2%)

      â€¢ MAPE:   16.22%

      â€¢ sMAPE:  15.61% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_08

   ğŸ“Š Train: 228 dias | Test: 58 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    245.5 pessoas

      â€¢ RMSE:   312.6 pessoas

      â€¢ RÂ²:    0.1299 (13.0%)

      â€¢ MAPE:   30.57%

      â€¢ sMAPE:  27.21% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_09

   ğŸ“Š Train: 232 dias | Test: 59 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    373.7 pessoas

      â€¢ RMSE:   516.5 pessoas

      â€¢ RÂ²:    0.1665 (16.7%)

      â€¢ MAPE:   73.67%

      â€¢ sMAPE:  28.78% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_10

   ğŸ“Š Train: 286 dias | Test: 72 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     53.0 pessoas

      â€¢ RMSE:    77.1 pessoas

      â€¢ RÂ²:    0.8530 (85.3%)

      â€¢ MAPE:   20.38%

      â€¢ sMAPE:  18.34% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_mez

   ğŸ“Š Train: 201 dias | Test: 51 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     26.1 pessoas

      â€¢ RMSE:    42.4 pessoas

      â€¢ RÂ²:    0.3828 (38.3%)

      â€¢ MAPE:   17.10%

      â€¢ sMAPE:  16.39% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ctsp_centro_tecnologico_terreo

   ğŸ“Š Train: 208 dias | Test: 52 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     44.2 pessoas

      â€¢ RMSE:    58.0 pessoas

      â€¢ RÂ²:    0.2110 (21.1%)

      â€¢ MAPE:   29.47%

      â€¢ sMAPE:  23.29% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ibba_fl3500_fl3500_02

   ğŸ“Š Train: 282 dias | Test: 71 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    113.1 pessoas

      â€¢ RMSE:   155.6 pessoas

      â€¢ RÂ²:    0.9258 (92.6%)

      â€¢ MAPE:   12.28%

      â€¢ sMAPE:  11.66% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ibba_fl3500_fl3500_03

   ğŸ“Š Train: 248 dias | Test: 63 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    122.9 pessoas

      â€¢ RMSE:   177.9 pessoas

      â€¢ RÂ²:    0.3950 (39.5%)

      â€¢ MAPE:   26.10%

      â€¢ sMAPE:  25.49% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ibba_fl3500_fl3500_04

   ğŸ“Š Train: 219 dias | Test: 55 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     62.0 pessoas

      â€¢ RMSE:    80.8 pessoas

      â€¢ RÂ²:    0.1139 (11.4%)

      â€¢ MAPE:   23.86%

      â€¢ sMAPE:  24.03% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ibba_fl3500_fl3500_05

   ğŸ“Š Train: 257 dias | Test: 65 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:    107.1 pessoas

      â€¢ RMSE:   154.0 pessoas

      â€¢ RÂ²:    0.6741 (67.4%)

      â€¢ MAPE:   21.15%

      â€¢ sMAPE:  24.98% âœ… APROVADO

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¢ Andar: ibba_fl3500_fl3500_terreo

   ğŸ“Š Train: 195 dias | Test: 49 dias

   ğŸ“ˆ MÃ©tricas de Teste:

      â€¢ MAE:     14.7 pessoas

      â€¢ RMSE:    19.3 pessoas

      â€¢ RÂ²:    -0.0527 (-5.3%)

      â€¢ MAPE:   47.37%

      â€¢ sMAPE:  63.11% âŒ REJEITADO (sMAPE > 50%)

============================================================

ğŸ“Š RESUMO DO TREINAMENTO

============================================================

   âœ… Andares aprovados (sMAPE â‰¤ 50%): 90

   âŒ Andares rejeitados: 5

   ğŸ“ˆ Taxa de aprovaÃ§Ã£o: 94.7%

ğŸ† TOP 5 MELHORES ANDARES (menor sMAPE):

   1. ibba_fl3500_fl3500_02

      â€¢ sMAPE: 11.66%

      â€¢ RÂ²: 0.9258

      â€¢ Dias treino/teste: 282/71

   2. centro_empresarial_conceicao_04

      â€¢ sMAPE: 12.93%

      â€¢ RÂ²: 0.3445

      â€¢ Dias treino/teste: 193/49

   3. ctsp_centro_tecnologico_07

      â€¢ sMAPE: 15.61%

      â€¢ RÂ²: 0.8320

      â€¢ Dias treino/teste: 193/49

   4. centro_empresarial_olavo_setubal_01

      â€¢ sMAPE: 15.68%

      â€¢ RÂ²: 0.1494

      â€¢ Dias treino/teste: 197/50

   5. centro_empresarial_jabaquara_11

      â€¢ sMAPE: 15.77%

      â€¢ RÂ²: 0.5663

      â€¢ Dias treino/teste: 192/49

ğŸ’¾ Modelo salvo: model_floor.pkl

ğŸ“Š MÃ©tricas salvas: model_floor_metrics.json

âœ… Treinamento concluÃ­do!

ğŸ“ Arquivos gerados:

   â€¢ model_floor.pkl

   â€¢ model_floor_metrics.json

ğŸ”„ PrÃ³ximo passo: python gerar_json_floor.py

C:\Users\RHMBARD\Downloads\novo_sistema><\results_train_model_floor>




agora temos o gerar_json_floor que gera o json pro html e simulatin ler

<gerar_json_floo>"""
========================================
GERAR JSON FLOOR - v1.0
========================================
âœ… Estrutura hierÃ¡rquica: PrÃ©dio â†’ Andar
âœ… HistÃ³rico + Forecast por andar
âœ… Apenas andares vÃ¡lidos (sMAPE â‰¤ 50%)
========================================
"""

import pandas as pd
import numpy as np
import json
from datetime import datetime, timedelta
from train_model_floor import FloorOccupationPredictor
import warnings
warnings.filterwarnings('ignore')

def get_features_from_row(row, feature_names):
Â  Â  """Extrai features de uma linha"""
Â  Â  features = {}
Â  Â  for col in feature_names:
Â  Â  Â  Â  if col not in ['floor_encoded', 'building_encoded']:
Â  Â  Â  Â  Â  Â  features[col] = row.get(col)
Â  Â  
Â  Â  # Converter tipos numpy
Â  Â  for k, v in features.items():
Â  Â  Â  Â  if isinstance(v, (np.integer, np.int64)): 
Â  Â  Â  Â  Â  Â  features[k] = int(v)
Â  Â  Â  Â  elif isinstance(v, (np.floating, np.float64)): 
Â  Â  Â  Â  Â  Â  features[k] = float(v)
Â  Â  Â  Â  elif isinstance(v, (np.bool_)): 
Â  Â  Â  Â  Â  Â  features[k] = bool(v)
Â  Â  
Â  Â  features['floor_key'] = str(row.get('floor_key'))
Â  Â  features['building'] = str(row.get('building'))
Â  Â  return features

# ADICIONADO: FunÃ§Ã£o para formatar o nÃºmero do andar
def format_floor_number(floor_num_str):
Â  Â  """Formata o nÃºmero do andar (ex: '01' -> '1', 'n1' -> 'N1')"""
Â  Â  if floor_num_str.isdigit():
Â  Â  Â  Â  num = int(floor_num_str)
Â  Â  Â  Â  return str(num)
Â  Â  else:
Â  Â  Â  Â  # Retorna em maiÃºsculas para consistÃªncia (ex: 'mez' -> 'MEZ')
Â  Â  Â  Â  return floor_num_str.upper()

def gerar_json_predicoes_floor():
Â  Â  """Gera JSON hierÃ¡rquico com prediÃ§Ãµes por andar"""
Â  Â  
Â  Â  print("="*60)
Â  Â  print("ğŸ“Š GERANDO JSON POR ANDAR - ESTRUTURA HIERÃRQUICA")
Â  Â  print("="*60)
Â  Â  
Â  Â  # Nome amigÃ¡veis dos prÃ©dios
Â  Â  building_names = {
Â  Â  Â  Â  'ibba_fl3500': 'IBBA Faria Lima 3500',
Â  Â  Â  Â  'centro_empresarial': 'Centro Empresarial ConceiÃ§Ã£o',
Â  Â  Â  Â  'cea': 'Centro Empresarial do AÃ§o',
Â  Â  Â  Â  'ctsp': 'Centro TecnolÃ³gico SP'
Â  Â  }
Â  Â  
Â  Â  # Nomes amigÃ¡veis das torres (MODIFICADO)
Â  Â  tower_names = {
Â  Â  Â  Â  'conceicao': 'Torre ConceiÃ§Ã£o',
Â  Â  Â  Â  'jabaquara': 'Torre Jabaquara',
Â  Â  Â  Â  'wms': 'Torre Walther Moreira', Â  Â  Â  Â  Â  # MODIFICADO
Â  Â  Â  Â  'olavo_setubal': 'Torre Olavo Setubal', Â  # MODIFICADO
Â  Â  Â  Â  'eudoro_villela': 'Torre Eudoro Villela',
Â  Â  Â  Â  'alfredo_egydio': 'Torre Alfredo Egydio',
Â  Â  Â  Â  'centro_tecnologico': 'Centro TecnolÃ³gico',
Â  Â  Â  Â  'fl3500': 'Faria Lima 3500',
Â  Â  Â  Â  'cea': 'Torre AÃ§o' Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # MODIFICADO
Â  Â  }
Â  Â  
Â  Â  # Capacidades
Â  Â  floor_capacities = {
Â  Â  Â  Â  # [Copiar do data_processor_floor.py]
Â  Â  Â  Â  'centro_empresarial_conceicao_01': 208,
Â  Â  Â  Â  'centro_empresarial_conceicao_02': 180,
Â  Â  Â  Â  'centro_empresarial_conceicao_03': 184,
Â  Â  Â  Â  'centro_empresarial_conceicao_04': 194,
Â  Â  Â  Â  'centro_empresarial_conceicao_05': 162,
Â  Â  Â  Â  'centro_empresarial_conceicao_06': 162,
Â  Â  Â  Â  'centro_empresarial_conceicao_07': 162,
Â  Â  Â  Â  'centro_empresarial_conceicao_08': 162,
Â  Â  Â  Â  'centro_empresarial_conceicao_09': 162,
Â  Â  Â  Â  'centro_empresarial_conceicao_10': 190,
Â  Â  Â  Â  'centro_empresarial_conceicao_11': 192,
Â  Â  Â  Â  'centro_empresarial_conceicao_12': 188,
Â  Â  Â  Â  'centro_empresarial_jabaquara_02': 108,
Â  Â  Â  Â  'centro_empresarial_jabaquara_03': 152,
Â  Â  Â  Â  'centro_empresarial_jabaquara_04': 200,
Â  Â  Â  Â  'centro_empresarial_jabaquara_05': 200,
Â  Â  Â  Â  'centro_empresarial_jabaquara_06': 200,
Â  Â  Â  Â  'centro_empresarial_jabaquara_07': 220,
Â  Â  Â  Â  'centro_empresarial_jabaquara_08': 214,
Â  Â  Â  Â  'centro_empresarial_jabaquara_09': 200,
Â  Â  Â  Â  'centro_empresarial_jabaquara_10': 200,
Â  Â  Â  Â  'centro_empresarial_jabaquara_11': 200,
Â  Â  Â  Â  'centro_empresarial_jabaquara_12': 200,
Â  Â  Â  Â  'centro_empresarial_wms_01': 204,
Â  Â  Â  Â  'centro_empresarial_wms_02': 200,
Â  Â  Â  Â  'centro_empresarial_wms_03': 200,
Â  Â  Â  Â  'centro_empresarial_wms_04': 160,
Â  Â  Â  Â  'centro_empresarial_wms_05': 200,
Â  Â  Â  Â  'centro_empresarial_wms_06': 198,
Â  Â  Â  Â  'centro_empresarial_wms_07': 200,
Â  Â  Â  Â  'centro_empresarial_wms_08': 200,
Â  Â  Â  Â  'centro_empresarial_wms_09': 200,
Â  Â  Â  Â  'centro_empresarial_wms_10': 200,
Â  Â  Â  Â  'centro_empresarial_wms_11': 200,
Â  Â  Â  Â  'centro_empresarial_wms_12': 200,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_00': 63,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_01': 134,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_02': 164,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_03': 168,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_04': 164,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_05': 196,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_06': 108,
Â  Â  Â  Â  'centro_empresarial_olavo_setubal_07': 80,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_01': 114,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_03': 141,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_04': 153,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_05': 174,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_06': 150,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_07': 171,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_08': 165,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_09': 177,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_10': 210,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_11': 162,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_12': 186,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_13': 186,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_14': 162,
Â  Â  Â  Â  'centro_empresarial_eudoro_villela_15': 186,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_01': 200,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_02': 200,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_03': 185,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_04': 198,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_05': 174,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_06': 200,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_07': 200,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_08': 204,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_09': 200,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_10': 214,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_11': 206,
Â  Â  Â  Â  'centro_empresarial_alfredo_egydio_12': 134,
Â  Â  Â  Â  'ctsp_centro_tecnologico_01': 602,
Â  Â  Â  Â  'ctsp_centro_tecnologico_02': 726,
Â  Â  Â  Â  'ctsp_centro_tecnologico_03': 703,
Â  Â  Â  Â  'ctsp_centro_tecnologico_04': 708,
Â  Â  Â  Â  'ctsp_centro_tecnologico_05': 645,
Â  Â  Â  Â  'ctsp_centro_tecnologico_07': 162,
Â  Â  Â  Â  'ctsp_centro_tecnologico_08': 704,
Â  Â  Â  Â  'ctsp_centro_tecnologico_09': 736,
Â  Â  Â  Â  'ctsp_centro_tecnologico_10': 741,
Â  Â  Â  Â  'ctsp_centro_tecnologico_mez': 310,
Â  Â  Â  Â  'ibba_fl3500_fl3500_02': 573,
Â  Â  Â  Â  'ibba_fl3500_fl3500_03': 612,
Â  Â  Â  Â  'ibba_fl3500_fl3500_04': 527,
Â  Â  Â  Â  'ibba_fl3500_fl3500_05': 284,
Â  Â  Â  Â  'cea_cea_01': 450,
Â  Â  Â  Â  'cea_cea_n1': 274,
Â  Â  Â  Â  'cea_cea_03': 461,
Â  Â  Â  Â  'cea_cea_04': 294,
Â  Â  Â  Â  'cea_cea_07': 592,
Â  Â  Â  Â  'cea_cea_09': 165,
Â  Â  }
Â  Â  
Â  Â  # Carregar modelo
Â  Â  print("\nğŸ“‚ Carregando modelo treinado...")
Â  Â  try:
Â  Â  Â  Â  predictor = FloorOccupationPredictor()
Â  Â  Â  Â  predictor.load_model('model_floor.pkl')
Â  Â  except FileNotFoundError:
Â  Â  Â  Â  print("âŒ Erro: Modelo nÃ£o encontrado!")
Â  Â  Â  Â  print(" Â  Execute: python train_model_floor.py")
Â  Â  Â  Â  return
Â  Â  
Â  Â  # Carregar dados
Â  Â  print("ğŸ“‚ Carregando dados processados...")
Â  Â  try:
Â  Â  Â  Â  df = pd.read_csv('data_processed_floor.csv')
Â  Â  Â  Â  df['data'] = pd.to_datetime(df['data'])
Â  Â  except FileNotFoundError:
Â  Â  Â  Â  print("âŒ Erro: Dados nÃ£o encontrados!")
Â  Â  Â  Â  return
Â  Â  
Â  Â  # Filtrar apenas andares vÃ¡lidos
Â  Â  df = df[df['floor_key'].isin(predictor.valid_floors)]
Â  Â  
Â  Â  print(f"\nâœ… Andares vÃ¡lidos carregados: {len(predictor.valid_floors)}")
Â  Â  
Â  Â  # Estrutura hierÃ¡rquica
Â  Â  dados_completos = {}
Â  Â  
Â  Â  # Agrupar por prÃ©dio
Â  Â  for building in df['building'].unique():
Â  Â  Â  Â  print(f"\n{'='*60}")
Â  Â  Â  Â  print(f"ğŸ¢ Processando: {building_names.get(building, building)}")
Â  Â  Â  Â  print(f"{'='*60}")
Â  Â  Â  Â  
Â  Â  Â  Â  df_building = df[df['building'] == building]
Â  Â  Â  Â  floors_in_building = df_building['floor_key'].unique()
Â  Â  Â  Â  
Â  Â  Â  Â  print(f" Â  ğŸ“Š Andares neste prÃ©dio: {len(floors_in_building)}")
Â  Â  Â  Â  
Â  Â  Â  Â  # Capacidade total do prÃ©dio
Â  Â  Â  Â  total_capacity = sum(floor_capacities.get(f, 0) for f in floors_in_building)
Â  Â  Â  Â  
Â  Â  Â  Â  dados_completos[building] = {
Â  Â  Â  Â  Â  Â  'name': building_names.get(building, building),
Â  Â  Â  Â  Â  Â  'total_capacity': total_capacity,
Â  Â  Â  Â  Â  Â  'total_floors': len(floors_in_building),
Â  Â  Â  Â  Â  Â  'floors': {}
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  # Processar cada andar
Â  Â  Â  Â  for floor_key in floors_in_building:
Â  Â  Â  Â  Â  Â  df_floor = df_building[df_building['floor_key'] == floor_key].copy()
Â  Â  Â  Â  Â  Â  df_floor = df_floor.sort_values('data')
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if len(df_floor) == 0:
Â  Â  Â  Â  Â  Â  Â  Â  continue
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # --- INÃCIO DA LÃ“GICA MODIFICADA ---
Â  Â  Â  Â  Â  Â  # Extrair torre e nÃºmero do andar (MODIFICADO)
Â  Â  Â  Â  Â  Â  try:
Â  Â  Â  Â  Â  Â  Â  Â  # Remove o prefixo do prÃ©dio (ex: 'centro_empresarial_')
Â  Â  Â  Â  Â  Â  Â  Â  # 'building' vem do loop externo e jÃ¡ estÃ¡ correto
Â  Â  Â  Â  Â  Â  Â  Â  tower_floor_part = floor_key.replace(building + '_', '')
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  # Pega a torre (tudo antes do Ãºltimo '_') e o andar (depois do Ãºltimo '_')
Â  Â  Â  Â  Â  Â  Â  Â  # Ex: 'olavo_setubal_01'.rsplit('_', 1) -> ['olavo_setubal', '01']
Â  Â  Â  Â  Â  Â  Â  Â  # Ex: 'cea_01'.rsplit('_', 1) -> ['cea', '01']
Â  Â  Â  Â  Â  Â  Â  Â  parts = tower_floor_part.rsplit('_', 1)
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if len(parts) == 2:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tower_key = parts[0]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  floor_num_raw = parts[1]
Â  Â  Â  Â  Â  Â  Â  Â  else: 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tower_key = tower_floor_part # Fallback
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  floor_num_raw = 'N/A' # Andar nÃ£o especificado
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  except Exception:
Â  Â  Â  Â  Â  Â  Â  Â  tower_key = 'unknown'
Â  Â  Â  Â  Â  Â  Â  Â  floor_num_raw = 'unknown'

Â  Â  Â  Â  Â  Â  # Obter nomes humanizados
Â  Â  Â  Â  Â  Â  tower_display_name = tower_names.get(tower_key, tower_key)
Â  Â  Â  Â  Â  Â  floor_display_num_formatted = format_floor_number(floor_num_raw)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Formato final humanizado (ex: "Faria Lima 3500 2 andar") (MODIFICADO)
Â  Â  Â  Â  Â  Â  if floor_num_raw == 'N/A':
Â  Â  Â  Â  Â  Â  Â  Â  floor_display = tower_display_name # Se nÃ£o houver andar, sÃ³ o nome da torre
Â  Â  Â  Â  Â  Â  elif floor_display_num_formatted.isdigit():
Â  Â  Â  Â  Â  Â  Â  Â  floor_display = f"{tower_display_name} {floor_display_num_formatted} andar"
Â  Â  Â  Â  Â  Â  else: # Para MEZ, N1, etc.
Â  Â  Â  Â  Â  Â  Â  Â  floor_display = f"{tower_display_name} {floor_display_num_formatted}"
Â  Â  Â  Â  Â  Â  # --- FIM DA LÃ“GICA MODIFICADA ---
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  print(f" Â  â””â”€ {floor_display}")
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # HistÃ³rico (Ãºltimos 30 dias)
Â  Â  Â  Â  Â  Â  df_recente = df_floor.tail(30)
Â  Â  Â  Â  Â  Â  historico = []
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  for i in range(len(df_recente)):
Â  Â  Â  Â  Â  Â  Â  Â  row = df_recente.iloc[i]
Â  Â  Â  Â  Â  Â  Â  Â  actual = row['ocupacao_media_dia']
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  # PrediÃ§Ã£o para este dia (usando features do dia anterior)
Â  Â  Â  Â  Â  Â  Â  Â  if i == 0:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  predicted = actual
Â  Â  Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row_anterior = df_recente.iloc[i-1]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  features = get_features_from_row(row_anterior, predictor.feature_names)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  preds = predictor.predict_next_days(floor_key, features, n_days=1)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  predicted = preds[0]['prediction'] if preds else actual
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  error_pct = 0.0
Â  Â  Â  Â  Â  Â  Â  Â  if actual > 10:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  error_pct = abs(actual - predicted) / actual * 100
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  error_pct = min(error_pct, 1000)
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  historico.append({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'date': str(row['data'].date()),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'dayOfWeek': ['Segunda', 'TerÃ§a', 'Quarta', 'Quinta', 'Sexta', 'SÃ¡bado', 'Domingo'][int(row['dia_semana'])],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'actualCount': float(actual),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'predictedCount': float(predicted),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'error': round(error_pct, 2),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'temperature': float(row['temperatura']),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'rain': bool(row['chuva']),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'isWeekend': bool(row['eh_fds']),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'isHoliday': bool(row['feriado'])
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Dados do dia atual
Â  Â  Â  Â  Â  Â  linha_atual = df_floor.iloc[-1]
Â  Â  Â  Â  Â  Â  features_ultimo_dia = get_features_from_row(linha_atual, predictor.feature_names)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Forecast (prÃ³ximos 14 dias)
Â  Â  Â  Â  Â  Â  predicoes_futuras = predictor.predict_next_days(floor_key, features_ultimo_dia, n_days=14)
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  forecast = []
Â  Â  Â  Â  Â  Â  data_base = linha_atual['data']
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  for pred in predicoes_futuras:
Â  Â  Â  Â  Â  Â  Â  Â  data_futura = data_base + timedelta(days=pred['day_offset'])
Â  Â  Â  Â  Â  Â  Â  Â  dia_semana = data_futura.dayofweek
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  forecast.append({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'date': str(data_futura.date()),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'dayOfWeek': ['Segunda', 'TerÃ§a', 'Quarta', 'Quinta', 'Sexta', 'SÃ¡bado', 'Domingo'][dia_semana],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'predictedCount': int(round(pred['prediction'], 0)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'isWeekend': dia_semana in [5, 6],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'dayOffset': pred['day_offset']
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # MÃ©tricas do andar
Â  Â  Â  Â  Â  Â  metrics = predictor.floor_metrics.get(floor_key, {})
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Achar o dia de pico (garantir que forecast nÃ£o estÃ¡ vazio)
Â  Â  Â  Â  Â  Â  if forecast:
Â  Â  Â  Â  Â  Â  Â  Â  max_pred_day = max(forecast, key=lambda x: x['predictedCount'])
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  # Fallback caso nÃ£o haja forecast
Â  Â  Â  Â  Â  Â  Â  Â  max_pred_day = {'date': 'N/A', 'dayOfWeek': 'N/A', 'predictedCount': 0}
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  # Salvar dados do andar (MODIFICADO)
Â  Â  Â  Â  Â  Â  dados_completos[building]['floors'][floor_key] = {
Â  Â  Â  Â  Â  Â  Â  Â  'name': floor_display, Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # MODIFICADO
Â  Â  Â  Â  Â  Â  Â  Â  'tower': tower_display_name, Â  Â  Â  Â  Â  Â  Â  # MODIFICADO
Â  Â  Â  Â  Â  Â  Â  Â  'floor_number': floor_display_num_formatted, # MODIFICADO (ex: '2', '10', 'N1')
Â  Â  Â  Â  Â  Â  Â  Â  'capacity': floor_capacities.get(floor_key, 0),
Â  Â  Â  Â  Â  Â  Â  Â  'current': {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'date': str(linha_atual['data'].date()),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'dayOfWeek': ['Segunda', 'TerÃ§a', 'Quarta', 'Quinta', 'Sexta', 'SÃ¡bado', 'Domingo'][int(linha_atual['dia_semana'])],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'occupation': float(linha_atual['ocupacao_media_dia']),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'temperature': float(linha_atual['temperatura']),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'rain': bool(linha_atual['chuva']),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'isWeekend': bool(linha_atual['eh_fds']),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'isHoliday': bool(linha_atual['feriado'])
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  'forecast': forecast,
Â  Â  Â  Â  Â  Â  Â  Â  'historical': historico,
Â  Â  Â  Â  Â  Â  Â  Â  'stats': {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'avgOccupation': int(round(df_floor['ocupacao_media_dia'].mean(), 0)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'maxOccupation': int(round(df_floor['ocupacao_media_dia'].max(), 0)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'minOccupation': int(round(df_floor['ocupacao_media_dia'].min(), 0)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'confidence': round(max(95 - metrics.get('smape', 30), 75), 1),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'smape': round(metrics.get('smape', 0), 2),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'r2': round(metrics.get('r2', 0), 4),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'totalDays': len(df_floor),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'peakForecastDay': {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'date': max_pred_day['date'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'dayOfWeek': max_pred_day['dayOfWeek'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'predictedCount': max_pred_day['predictedCount']
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  
Â  Â  # Salvar JSON
Â  Â  output_file = 'predicoes_modelo_floor.json'
Â  Â  with open(output_file, 'w', encoding='utf-8') as f:
Â  Â  Â  Â  json.dump(dados_completos, f, indent=2, ensure_ascii=False)
Â  Â  
Â  Â  print(f"\n{'='*60}")
Â  Â  print(f"âœ… JSON GERADO COM SUCESSO!")
Â  Â  print(f"{'='*60}")
Â  Â  print(f"ğŸ“ Arquivo: {output_file}")
Â  Â  print(f"ğŸ¢ PrÃ©dios: {len(dados_completos)}")
Â  Â  
Â  Â  total_floors = sum(len(b['floors']) for b in dados_completos.values())
Â  Â  print(f"ğŸ¢ Total de andares: {total_floors}")
Â  Â  
Â  Â  print(f"\nğŸ“Š RESUMO POR PRÃ‰DIO:")
Â  Â  for building, data in dados_completos.items():
Â  Â  Â  Â  print(f"\n Â  ğŸ¢ {data['name']}")
Â  Â  Â  Â  print(f" Â  Â  Â  â€¢ Andares: {data['total_floors']}")
Â  Â  Â  Â  print(f" Â  Â  Â  â€¢ Capacidade total: {data['total_capacity']:,} pessoas")
Â  Â  Â  Â  
Â  Â  Â  Â  if data['floors']:
Â  Â  Â  Â  Â  Â  smape_values = [f['stats']['smape'] for f in data['floors'].values() if f['stats']['smape'] > 0]
Â  Â  Â  Â  Â  Â  if smape_values:
Â  Â  Â  Â  Â  Â  Â  Â  avg_smape = np.mean(smape_values)
Â  Â  Â  Â  Â  Â  Â  Â  print(f" Â  Â  Â  â€¢ sMAPE mÃ©dio: {avg_smape:.2f}%")
Â  Â  
Â  Â  return output_file

if __name__ == "__main__":
Â  Â  arquivo_gerado = gerar_json_predicoes_floor()
Â  Â  
Â  Â  if arquivo_gerado:
Â  Â  Â  Â  print("\n" + "="*60)
Â  Â  Â  Â  print("ğŸ‰ PRONTO PARA USO!")
Â  Â  Â  Â  print("="*60)
Â  Â  Â  Â  print("\nğŸ“ Arquivo gerado: predicoes_modelo_floor.json")
Â  Â  Â  Â  print("ğŸ”„ PrÃ³ximo passo: Atualizar index.html e ml_simulation_floor.js")
Â  Â  else:
Â  Â  Â  Â  print("\nâŒ Erro ao gerar JSON")
<\gerar_json_floor>

aqui esta o resultado do gerar_json_floor
<results_gerar_json_floor>
C:\Users\RHMBARD\Downloads\novo_sistema>python gerar_json_floor.py     
===========================================================
ğŸ“Š GERANDO JSON POR ANDAR - ESTRUTURA HIERÃRQUICA
============================================================

ğŸ“‚ Carregando modelo treinado...
âœ… Modelo carregado: model_floor.pkl
   â€¢ Andares vÃ¡lidos: 90
ğŸ“‚ Carregando dados processados...

âœ… Andares vÃ¡lidos carregados: 90

============================================================
ğŸ¢ Processando: Centro Empresarial do AÃ§o
============================================================
   ğŸ“Š Andares neste prÃ©dio: 6
   â””â”€ 01
   â””â”€ 02
   â””â”€ 03
   â””â”€ 04
   â””â”€ 07
   â””â”€ 09

============================================================
ğŸ¢ Processando: Centro Empresarial ConceiÃ§Ã£o
============================================================
   ğŸ“Š Andares neste prÃ©dio: 69
   â””â”€ Torre Alfredo Egydio 1 andar
   â””â”€ Torre Alfredo Egydio 2 andar
   â””â”€ Torre Alfredo Egydio 3 andar
   â””â”€ Torre Alfredo Egydio 4 andar
   â””â”€ Torre Alfredo Egydio 5 andar
   â””â”€ Torre Alfredo Egydio 6 andar
   â””â”€ Torre Alfredo Egydio 7 andar
   â””â”€ Torre Alfredo Egydio 8 andar
   â””â”€ Torre Alfredo Egydio 9 andar
   â””â”€ Torre Alfredo Egydio 10 andar
   â””â”€ Torre Alfredo Egydio 11 andar
   â””â”€ Torre Alfredo Egydio 12 andar
   â””â”€ Torre ConceiÃ§Ã£o 1 andar
   â””â”€ Torre ConceiÃ§Ã£o 2 andar
   â””â”€ Torre ConceiÃ§Ã£o 3 andar
   â””â”€ Torre ConceiÃ§Ã£o 4 andar
   â””â”€ Torre ConceiÃ§Ã£o 6 andar
   â””â”€ Torre ConceiÃ§Ã£o 7 andar
   â””â”€ Torre ConceiÃ§Ã£o 8 andar
   â””â”€ Torre ConceiÃ§Ã£o 9 andar
   â””â”€ Torre ConceiÃ§Ã£o 10 andar
   â””â”€ Torre ConceiÃ§Ã£o 11 andar
   â””â”€ Torre ConceiÃ§Ã£o 12 andar
   â””â”€ Torre ConceiÃ§Ã£o PM
   â””â”€ Torre Eudoro Villela 1 andar
   â””â”€ Torre Eudoro Villela 2 andar
   â””â”€ Torre Eudoro Villela 3 andar
   â””â”€ Torre Eudoro Villela 4 andar
   â””â”€ Torre Eudoro Villela 5 andar
   â””â”€ Torre Eudoro Villela 6 andar
   â””â”€ Torre Eudoro Villela 7 andar
   â””â”€ Torre Eudoro Villela 8 andar
   â””â”€ Torre Eudoro Villela 9 andar
   â””â”€ Torre Eudoro Villela 10 andar
   â””â”€ Torre Eudoro Villela 12 andar
   â””â”€ Torre Eudoro Villela 13 andar
   â””â”€ Torre Jabaquara 1 andar
   â””â”€ Torre Jabaquara 2 andar
   â””â”€ Torre Jabaquara 3 andar
   â””â”€ Torre Jabaquara 4 andar
   â””â”€ Torre Jabaquara 5 andar
   â””â”€ Torre Jabaquara 6 andar
   â””â”€ Torre Jabaquara 7 andar
   â””â”€ Torre Jabaquara 8 andar
   â””â”€ Torre Jabaquara 9 andar
   â””â”€ Torre Jabaquara 10 andar
   â””â”€ Torre Jabaquara 11 andar
   â””â”€ Torre Jabaquara 12 andar
   â””â”€ Torre Olavo Setubal 1 andar
   â””â”€ Torre Olavo Setubal 2 andar
   â””â”€ Torre Olavo Setubal 3 andar
   â””â”€ Torre Olavo Setubal 4 andar
   â””â”€ Torre Olavo Setubal 5 andar
   â””â”€ Torre Olavo Setubal 6 andar
   â””â”€ Torre Olavo Setubal 7 andar
   â””â”€ Torre Olavo Setubal 8 andar
   â””â”€ Torre Olavo Setubal TERREO
   â””â”€ Torre Walther Moreira 1 andar
   â””â”€ Torre Walther Moreira 2 andar
   â””â”€ Torre Walther Moreira 3 andar
   â””â”€ Torre Walther Moreira 4 andar
   â””â”€ Torre Walther Moreira 5 andar
   â””â”€ Torre Walther Moreira 6 andar
   â””â”€ Torre Walther Moreira 7 andar
   â””â”€ Torre Walther Moreira 8 andar
   â””â”€ Torre Walther Moreira 9 andar
   â””â”€ Torre Walther Moreira 10 andar
   â””â”€ Torre Walther Moreira 11 andar
   â””â”€ Torre Walther Moreira 12 andar

============================================================
ğŸ¢ Processando: Centro TecnolÃ³gico SP
============================================================
   ğŸ“Š Andares neste prÃ©dio: 11
   â””â”€ Centro TecnolÃ³gico 1 andar
   â””â”€ Centro TecnolÃ³gico 2 andar
   â””â”€ Centro TecnolÃ³gico 3 andar
   â””â”€ Centro TecnolÃ³gico 4 andar
   â””â”€ Centro TecnolÃ³gico 5 andar
   â””â”€ Centro TecnolÃ³gico 7 andar
   â””â”€ Centro TecnolÃ³gico 8 andar
   â””â”€ Centro TecnolÃ³gico 9 andar
   â””â”€ Centro TecnolÃ³gico 10 andar
   â””â”€ Centro TecnolÃ³gico MEZ
   â””â”€ Centro TecnolÃ³gico TERREO

============================================================
ğŸ¢ Processando: IBBA Faria Lima 3500
============================================================
   ğŸ“Š Andares neste prÃ©dio: 4
   â””â”€ Faria Lima 3500 2 andar
   â””â”€ Faria Lima 3500 3 andar
   â””â”€ Faria Lima 3500 4 andar
   â””â”€ Faria Lima 3500 5 andar

============================================================
âœ… JSON GERADO COM SUCESSO!
============================================================
ğŸ“ Arquivo: predicoes_modelo_floor.json
ğŸ¢ PrÃ©dios: 4
ğŸ¢ Total de andares: 90

ğŸ“Š RESUMO POR PRÃ‰DIO:

   ğŸ¢ Centro Empresarial do AÃ§o
       â€¢ Andares: 6
       â€¢ Capacidade total: 1,962 pessoas
       â€¢ sMAPE mÃ©dio: 21.12%

   ğŸ¢ Centro Empresarial ConceiÃ§Ã£o
       â€¢ Andares: 69
       â€¢ Capacidade total: 11,596 pessoas
       â€¢ sMAPE mÃ©dio: 25.52%

   ğŸ¢ Centro TecnolÃ³gico SP
       â€¢ Andares: 11
       â€¢ Capacidade total: 6,037 pessoas
       â€¢ sMAPE mÃ©dio: 23.91%

   ğŸ¢ IBBA Faria Lima 3500
       â€¢ Andares: 4
       â€¢ Capacidade total: 1,996 pessoas
       â€¢ sMAPE mÃ©dio: 21.54%

============================================================
ğŸ‰ PRONTO PARA USO!
============================================================

ğŸ“ Arquivo gerado: predicoes_modelo_floor.json
ğŸ”„ PrÃ³ximo passo: Atualizar index.html e ml_simulation_floor.js

C:\Users\RHMBARD\Downloads\novo_sistema><\results_gerar_json_floor>




<dados>
dados da base de dados e exemlo
"data_marcacao","tipo_acesso","cod_funcionario","filial_tratado","right_descricao_local_departamento"
"20241224","Entrada","*******","AC - CTSP (SP)","CENTRO TECNOLOGICO / 05 AND"
"20241224","Entrada","*******","AC - CTSP (SP)","CENTRO TECNOLOGICO / 02 AND"
"20241224","Entrada","*******","AC - Centro Empresarial (SP)","WMS / 02 AND"
"20241224","Entrada","*******","AC - CTSP (SP)","CENTRO TECNOLOGICO / TERREO"
"20241224","Entrada","*******","AC - Centro Empresarial (SP)","CONCEICAO / 01 AND"


<\dados>


<Importante>PRECISO QUE VOCE MELHORE O MAPE E O RÂ², USE 100% DA SUA CAPACIDADE PARA PENSAR EM SOLUÃ‡Ã•ES E IMPLEMENTALAS, ALEM DISSO SE VOCE TIVER UM BOM RESULTADO TE DAREI 1000$ EXTRAS,CASO O RESULTADO NAO SEJA BOM IREI TROCALO POR OUTRA LLM<\importante>








